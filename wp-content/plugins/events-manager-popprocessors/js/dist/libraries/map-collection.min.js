!function(a){popMapCollection={formMapLocationGeocode:function(o){var e=o.pageSection,n=o.block;o.targets.find("input.address-input").change(function(){var o=a(this).closest("div.pop-map-locationgeocode"),t=[];o.find("input.address-input").each(function(){var o=a(this);o.val()&&t.push(o.val())});var p=o.find("div.pop-map"),r=o.find("input.address-lat"),i=o.find("input.address-lng");popMap.geocode(e,n,p,t.join(", "),r,i)})},modalMap:function(o){var e=this,n=o.domain;o.targets.on("show.bs.modal",function(o){var t=a(this),p=a(o.relatedTarget);e.execModalMap(n,t,p)})},modalMapBlock:function(a){var o=this,e=a.domain,n=(a.pageSection,a.block,a.targets),t=a.relatedTarget,p=n.closest(".modal");o.execModalMap(e,p,t)},execModalMap:function(a,o,e){e=popManager.getOriginalLink(e);var n=popManager.getBlock(e),t=popManager.getPageSection(n),p=o.find(".pop-map");p.data("markers-pagesection",t),p.data("markers-block",n),p.data("markers-removecurrent",!0);var r=popMap.getMarkerIdsFromLinkURLs(e);p.data("marker-ids-"+removeScheme(a),r)}}}(jQuery),popJSLibraryManager.register(popMapCollection,["formMapLocationGeocode","modalMap","modalMapBlock"]);