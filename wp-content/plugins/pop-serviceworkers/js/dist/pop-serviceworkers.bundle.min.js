!function(e){popServiceWorkers={pages:{},documentInitialized:function(a){var r=this;"serviceWorker"in navigator&&(navigator.serviceWorker.onmessage=function(a){var t=JSON.parse(a.data);if("refresh"===t.type&&r.pages[t.url]){var i=e("#"+r.pages[t.url]);i&&i.data("fetch-url")&&(r.showRefreshMessage(i),delete r.pages[t.url])}})},pageSectionNewDOMsBeforeInitialize:function(e){var a=this,r=e.pageSection,t=e.newDOMs,i=r.attr("id");if(M.SW_MAIN_PAGESECTIONS&&M.SW_MAIN_PAGESECTIONS.indexOf(i)>-1){var n=t.filter(".pop-pagesection-page");if(n.length){var o=n.data("fetch-url");o&&(a.pages[o]=n.attr("id"),n.one("destroy",function(){delete a.pages[o]}))}}},modifyOptions:function(e){var a=e.options,r=(e.url,e.anchor);r.data("sw-networkfirst")&&(a.params=a.params||{},a.params[M.SW_URLPARAM_NETWORKFIRST]="true")},fetchBrowserURL:function(a){e(document).on("initialized.pop.document",function(){var e={skipPushState:!0};popManager.fetch(window.location.href,e)})},reopenTabs:function(a){e(document).on("initialized.pop.document",function(){popManager.openTabs()})},showRefreshMessage:function(e){var a=e.data("url"),r=e.data("target");e.prepend(M.SW_MESSAGE.format(a,r))}}}(jQuery),popJSLibraryManager.register(popServiceWorkers,["documentInitialized","pageSectionNewDOMsBeforeInitialize","modifyOptions","fetchBrowserURL","reopenTabs"]);