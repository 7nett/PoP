!function(e){popServiceWorkers={documentInitialized:function(r){"serviceWorker"in navigator&&(navigator.serviceWorker.onmessage=function(r){var o=JSON.parse(r.data);"refresh"===o.type&&e(document).triggerHandler("popServiceWorkers:refreshed:"+o.url)})},pageSectionNewDOMsBeforeInitialize:function(r){var o=this,n=r.pageSection,i=r.newDOMs,t=n.attr("id");if(M.SW_MAIN_PAGESECTIONS&&M.SW_MAIN_PAGESECTIONS.indexOf(t)>-1){var a=i.filter(".pop-pagesection-page");if(a.length){var s=a.data("fetch-url");s&&e(document).one("popServiceWorkers:refreshed:"+s,function(){a.data("fetch-url")&&o.showRefreshMessage(a)})}}},modifyOptions:function(e){var r=e.options,o=(e.url,e.anchor);o.data("sw-networkfirst")&&(r.params=r.params||{},r.params[M.SW_URLPARAM_NETWORKFIRST]="true")},fetchBrowserURL:function(r){e(document).on("initialized.pop.document",function(){var e={skipPushState:!0};popManager.fetch(window.location.href,e)})},reopenTabs:function(r){e(document).on("initialized.pop.document",function(){popManager.openTabs()})},showRefreshMessage:function(e){var r=e.data("url"),o=e.data("target");e.prepend(M.SW_MESSAGE.format(r,o))}}}(jQuery),popJSLibraryManager.register(popServiceWorkers,["documentInitialized","pageSectionNewDOMsBeforeInitialize","modifyOptions","fetchBrowserURL","reopenTabs"]);