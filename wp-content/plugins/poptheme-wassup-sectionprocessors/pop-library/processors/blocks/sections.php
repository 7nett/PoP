<?php
/**---------------------------------------------------------------------------------------------------------------
 *
 * Template Manager (Handlebars)
 *
 * ---------------------------------------------------------------------------------------------------------------*/

/*********************************************
 * My Content Tables
 *********************************************/
define ('GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT', PoP_ServerUtils::get_template_definition('block-myannouncements-table-edit'));
define ('GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT', PoP_ServerUtils::get_template_definition('block-mydiscussions-table-edit'));
define ('GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT', PoP_ServerUtils::get_template_definition('block-myprojects-table-edit'));
// define ('GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT', PoP_ServerUtils::get_template_definition('block-myresources-table-edit'));
define ('GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT', PoP_ServerUtils::get_template_definition('block-mystories-table-edit'));

/*--------------------------------------------
 * My Content Simple View Post Preview
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-mydiscussions-scroll-simpleviewpreview'));
define ('GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-myannouncements-scroll-simpleviewpreview'));
define ('GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-myprojects-scroll-simpleviewpreview'));
define ('GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-mystories-scroll-simpleviewpreview'));

/*--------------------------------------------
 * My Content Full Post Preview
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-mydiscussions-scroll-fullviewpreview'));
define ('GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-myannouncements-scroll-fullviewpreview'));
define ('GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-myprojects-scroll-fullviewpreview'));
define ('GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-mystories-scroll-fullviewpreview'));
// define ('GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW', PoP_ServerUtils::get_template_definition('block-myresources-scroll-fullviewpreview'));

/*********************************************
 * Typeaheads
 *********************************************/
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_TYPEAHEAD', PoP_ServerUtils::get_template_definition('block-discussions-typeahead'));
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_TYPEAHEAD', PoP_ServerUtils::get_template_definition('block-announcements-typeahead'));
define ('GD_TEMPLATE_BLOCK_FEATURED_TYPEAHEAD', PoP_ServerUtils::get_template_definition('block-featured-typeahead'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_TYPEAHEAD', PoP_ServerUtils::get_template_definition('block-projects-typeahead'));
define ('GD_TEMPLATE_BLOCK_STORIES_TYPEAHEAD', PoP_ServerUtils::get_template_definition('block-stories-typeahead'));
define ('GD_TEMPLATE_BLOCK_BLOG_TYPEAHEAD', PoP_ServerUtils::get_template_definition('block-blog-typeahead'));

/*********************************************
 * Post Scrolls
 *********************************************/
define ('GD_TEMPLATE_BLOCK_THOUGHTS_SCROLL', PoP_ServerUtils::get_template_definition('block-thoughts-scroll'));

/*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
 * Common blocks (Home/Page/Author/Single)
 *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*/
/*--------------------------------------------
 * Navigator
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR', PoP_ServerUtils::get_template_definition('block-announcements-scroll-navigator'));
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR', PoP_ServerUtils::get_template_definition('block-discussions-scroll-navigator'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR', PoP_ServerUtils::get_template_definition('block-projects-scroll-navigator'));
define ('GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR', PoP_ServerUtils::get_template_definition('block-featured-scroll-navigator'));
define ('GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR', PoP_ServerUtils::get_template_definition('block-stories-scroll-navigator'));
define ('GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR', PoP_ServerUtils::get_template_definition('block-blog-scroll-navigator'));

/*--------------------------------------------
 * Addons
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS', PoP_ServerUtils::get_template_definition('block-announcements-scroll-addons'));
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS', PoP_ServerUtils::get_template_definition('block-discussions-scroll-addons'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS', PoP_ServerUtils::get_template_definition('block-projects-scroll-addons'));
define ('GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS', PoP_ServerUtils::get_template_definition('block-featured-scroll-addons'));
define ('GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS', PoP_ServerUtils::get_template_definition('block-stories-scroll-addons'));
define ('GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS', PoP_ServerUtils::get_template_definition('block-blog-scroll-addons'));

/*--------------------------------------------
 * Details: Thumb, title and excerpt
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-discussions-scroll-details'));
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-announcements-scroll-details'));
define ('GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-featured-scroll-details'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-projects-scroll-details'));
define ('GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-stories-scroll-details'));
define ('GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-blog-scroll-details'));

define ('GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-authordiscussions-scroll-details'));
define ('GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-authorannouncements-scroll-details'));
define ('GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-authorprojects-scroll-details'));
define ('GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-authorstories-scroll-details'));

define ('GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-tagdiscussions-scroll-details'));
define ('GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-tagannouncements-scroll-details'));
define ('GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-tagprojects-scroll-details'));
define ('GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS', PoP_ServerUtils::get_template_definition('block-tagstories-scroll-details'));

/*--------------------------------------------
 * Full Post
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-discussions-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-announcements-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-projects-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-stories-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-featured-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-blog-scroll-simpleview'));

define ('GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-authordiscussions-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-authorannouncements-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-authorprojects-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-authorstories-scroll-simpleview'));

define ('GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-tagdiscussions-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-tagannouncements-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-tagprojects-scroll-simpleview'));
define ('GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW', PoP_ServerUtils::get_template_definition('block-tagstories-scroll-simpleview'));

/*--------------------------------------------
 * Full Post
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-discussions-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-announcements-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-projects-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-stories-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-featured-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-blog-scroll-fullview'));

define ('GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-authordiscussions-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-authorannouncements-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-authorprojects-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-authorstories-scroll-fullview'));

define ('GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-tagdiscussions-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-tagannouncements-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-tagprojects-scroll-fullview'));
define ('GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW', PoP_ServerUtils::get_template_definition('block-tagstories-scroll-fullview'));

/*--------------------------------------------
 * Thumbnail
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-discussions-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-announcements-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-featured-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-projects-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-stories-scroll-thumbnail'));
// define ('GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-blog-scroll-thumbnail'));

define ('GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-authordiscussions-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-authorannouncements-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-authorprojects-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-authorstories-scroll-thumbnail'));

define ('GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-tagdiscussions-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-tagannouncements-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-tagprojects-scroll-thumbnail'));
define ('GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL', PoP_ServerUtils::get_template_definition('block-tagstories-scroll-thumbnail'));

/*--------------------------------------------
 * List
 --------------------------------------------*/
define ('GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-discussions-scroll-list'));
define ('GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-announcements-scroll-list'));
define ('GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-featured-scroll-list'));
define ('GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-projects-scroll-list'));
define ('GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-stories-scroll-list'));
define ('GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-blog-scroll-list'));

define ('GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-authordiscussions-scroll-list'));
define ('GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-authorannouncements-scroll-list'));
define ('GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-authorprojects-scroll-list'));
define ('GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-authorstories-scroll-list'));

define ('GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-tagdiscussions-scroll-list'));
define ('GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-tagannouncements-scroll-list'));
define ('GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-tagprojects-scroll-list'));
define ('GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST', PoP_ServerUtils::get_template_definition('block-tagstories-scroll-list'));

/*********************************************
 * User Scrolls
 *********************************************/
define ('GD_TEMPLATE_BLOCK_WHOWEARE_CORE_SCROLL', PoP_ServerUtils::get_template_definition('block-whoweare-core-scroll'));
define ('GD_TEMPLATE_BLOCK_WHOWEARE_ADVISORS_SCROLL', PoP_ServerUtils::get_template_definition('block-whoweare-advisors-scroll'));
define ('GD_TEMPLATE_BLOCK_WHOWEARE_VOLUNTEERS_SCROLL', PoP_ServerUtils::get_template_definition('block-whoweare-volunteers-scroll'));

/*********************************************
 * Post and User Carousels
 *********************************************/
define ('GD_TEMPLATE_BLOCK_BLOG_CAROUSEL', PoP_ServerUtils::get_template_definition('block-blog-carousel'));
define ('GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL', PoP_ServerUtils::get_template_definition('block-featured-carousel'));
define ('GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL', PoP_ServerUtils::get_template_definition('block-authorfeatured-carousel'));
define ('GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL', PoP_ServerUtils::get_template_definition('block-tagfeatured-carousel'));

class GD_Custom_Template_Processor_CustomSectionBlocks extends GD_Template_Processor_SectionBlocksBase {

	function get_templates_to_process() {
	
		return array(
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_FEATURED_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_PROJECTS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_STORIES_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_BLOG_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_THOUGHTS_SCROLL,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL,
			// GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST,
			
			GD_TEMPLATE_BLOCK_BLOG_CAROUSEL,
			GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL,

			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_WHOWEARE_ADVISORS_SCROLL,
			GD_TEMPLATE_BLOCK_WHOWEARE_CORE_SCROLL,
			GD_TEMPLATE_BLOCK_WHOWEARE_VOLUNTEERS_SCROLL,		
		);
	}

	protected function get_block_inner_templates($template_id) {

		global $gd_template_processor_manager;

		$ret = parent::get_block_inner_templates($template_id);

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_WHOWEARE_VOLUNTEERS_SCROLL:

				$ret[] = GD_TEMPLATE_CODE_VOLUNTEERWITHUSINTRO;
				$ret[] = GD_TEMPLATE_SCROLL_WHOWEARE_VOLUNTEERS;
				break;

			case GD_TEMPLATE_BLOCK_WHOWEARE_ADVISORS_SCROLL:

				// $ret[] = GD_TEMPLATE_CODE_ADVISEUSINTRO;
				$ret[] = GD_TEMPLATE_SCROLL_WHOWEARE_ADVISORS;
				break;

			// Code below already executed in the parent
			// default:

			// 	if ($block_inner_template = $this->get_block_inner_template($template_id)) {

			// 		$ret[] = $block_inner_template;
			// 	}
			// 	break;
		}

		return $ret;
	}


	protected function get_block_inner_template($template_id) {

		$inner_templates = array(

			/*********************************************
			 * Typeaheads
			 *********************************************/
			// Straight to the layout
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_TYPEAHEAD => GD_TEMPLATE_LAYOUTPOST_TYPEAHEAD_COMPONENT,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_TYPEAHEAD => GD_TEMPLATE_LAYOUTPOST_TYPEAHEAD_COMPONENT,
			GD_TEMPLATE_BLOCK_FEATURED_TYPEAHEAD => GD_TEMPLATE_LAYOUTPOST_TYPEAHEAD_COMPONENT,
			GD_TEMPLATE_BLOCK_PROJECTS_TYPEAHEAD => GD_TEMPLATE_LAYOUTPOST_TYPEAHEAD_COMPONENT,
			GD_TEMPLATE_BLOCK_STORIES_TYPEAHEAD => GD_TEMPLATE_LAYOUTPOST_TYPEAHEAD_COMPONENT,
			GD_TEMPLATE_BLOCK_BLOG_TYPEAHEAD => GD_TEMPLATE_LAYOUTPOST_TYPEAHEAD_COMPONENT,
			
			/*********************************************
			 * Post Scrolls
			 *********************************************/
			GD_TEMPLATE_BLOCK_THOUGHTS_SCROLL => GD_TEMPLATE_SCROLL_THOUGHTS,

			/*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
			 * Common blocks (Home/Page/Author/Single)
			 *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*/

			GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR => GD_TEMPLATE_SCROLL_BLOG_NAVIGATOR,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_NAVIGATOR,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR => GD_TEMPLATE_SCROLL_DISCUSSIONS_NAVIGATOR,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR => GD_TEMPLATE_SCROLL_PROJECTS_NAVIGATOR,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR => GD_TEMPLATE_SCROLL_FEATURED_NAVIGATOR,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR => GD_TEMPLATE_SCROLL_STORIES_NAVIGATOR,
			
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_ADDONS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS => GD_TEMPLATE_SCROLL_DISCUSSIONS_ADDONS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS => GD_TEMPLATE_SCROLL_PROJECTS_ADDONS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS => GD_TEMPLATE_SCROLL_FEATURED_ADDONS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS => GD_TEMPLATE_SCROLL_STORIES_ADDONS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS => GD_TEMPLATE_SCROLL_BLOG_ADDONS,
			
			/*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
			 * Home/Page blocks
			 *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*/
			
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_DETAILS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_DISCUSSIONS_DETAILS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_FEATURED_DETAILS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_PROJECTS_DETAILS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_STORIES_DETAILS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_BLOG_DETAILS,
			
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_DISCUSSIONS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_PROJECTS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_STORIES_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_BLOG_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_FEATURED_SIMPLEVIEW,
			
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_FULLVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_DISCUSSIONS_FULLVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_PROJECTS_FULLVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_STORIES_FULLVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_BLOG_FULLVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_FEATURED_FULLVIEW,
			
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_DISCUSSIONS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_FEATURED_THUMBNAIL,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_PROJECTS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_STORIES_THUMBNAIL,
			// GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_BLOG_THUMBNAIL,
						
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_LIST,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST => GD_TEMPLATE_SCROLL_DISCUSSIONS_LIST,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST => GD_TEMPLATE_SCROLL_FEATURED_LIST,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST => GD_TEMPLATE_SCROLL_PROJECTS_LIST,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST => GD_TEMPLATE_SCROLL_STORIES_LIST,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST => GD_TEMPLATE_SCROLL_BLOG_LIST,
			
			/*********************************************
			 * My Content Tables
			 *********************************************/
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT => GD_TEMPLATE_TABLE_MYANNOUNCEMENTS,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT => GD_TEMPLATE_TABLE_MYDISCUSSIONS,
			GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT => GD_TEMPLATE_TABLE_MYPROJECTS,
			GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT => GD_TEMPLATE_TABLE_MYSTORIES,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT => GD_TEMPLATE_TABLE_MYRESOURCES,	

			/*********************************************
			 * My Content Full Post Previews
			 *********************************************/
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYANNOUNCEMENTS_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYDISCUSSIONS_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYPROJECTS_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYSTORIES_SIMPLEVIEWPREVIEW,

			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYANNOUNCEMENTS_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYDISCUSSIONS_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYPROJECTS_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYSTORIES_FULLVIEWPREVIEW,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW => GD_TEMPLATE_SCROLL_MYRESOURCES_FULLVIEWPREVIEW,

			/*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
			 * Author blocks
			 *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*/

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_DISCUSSIONS_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_PROJECTS_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_STORIES_DETAILS,
			
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_DISCUSSIONS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_PROJECTS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_STORIES_SIMPLEVIEW,
			
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_AUTHORANNOUNCEMENTS_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_AUTHORDISCUSSIONS_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_AUTHORPROJECTS_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_AUTHORSTORIES_FULLVIEW,
			
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_DISCUSSIONS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_PROJECTS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_STORIES_THUMBNAIL,
			
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_LIST,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST => GD_TEMPLATE_SCROLL_DISCUSSIONS_LIST,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST => GD_TEMPLATE_SCROLL_PROJECTS_LIST,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST => GD_TEMPLATE_SCROLL_STORIES_LIST,

			/*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
			 * Tag blocks
			 *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*/

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_DETAILS,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_DISCUSSIONS_DETAILS,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_PROJECTS_DETAILS,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS => GD_TEMPLATE_SCROLL_STORIES_DETAILS,
			
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_DISCUSSIONS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_PROJECTS_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW => GD_TEMPLATE_SCROLL_STORIES_SIMPLEVIEW,
			
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_DISCUSSIONS_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_PROJECTS_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW => GD_TEMPLATE_SCROLL_STORIES_FULLVIEW,
			
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_DISCUSSIONS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_PROJECTS_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL => GD_TEMPLATE_SCROLL_STORIES_THUMBNAIL,
			
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST => GD_TEMPLATE_SCROLL_ANNOUNCEMENTS_LIST,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST => GD_TEMPLATE_SCROLL_DISCUSSIONS_LIST,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST => GD_TEMPLATE_SCROLL_PROJECTS_LIST,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST => GD_TEMPLATE_SCROLL_STORIES_LIST,
			
			/*********************************************
			 * User Scrolls
			 *********************************************/
			GD_TEMPLATE_BLOCK_WHOWEARE_CORE_SCROLL => GD_TEMPLATE_SCROLL_WHOWEARE_CORE,

			/*********************************************
			 * Post and User Carousels
			 *********************************************/
			GD_TEMPLATE_BLOCK_BLOG_CAROUSEL => GD_TEMPLATE_CAROUSEL_BLOG,
			GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL => GD_TEMPLATE_CAROUSEL_FEATURED,
			GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL => GD_TEMPLATE_CAROUSEL_FEATURED,
			GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL => GD_TEMPLATE_CAROUSEL_FEATURED,
		);

		return $inner_templates[$template_id];
	}

	protected function show_fetchmore($template_id) {

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:
			// case GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT:

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:


			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:
			// case GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW:

			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL:
			// case GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:
			
				return true;
		}

		return parent::show_fetchmore($template_id);
	}

	protected function filter_hidden($template_id) {

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS:
			
				return true;
		}

		return parent::filter_hidden($template_id);
	}

	function get_filter_template($template_id) {

		switch ($template_id) {

			// case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR:

			case GD_TEMPLATE_BLOCK_PROJECTS_TYPEAHEAD:

			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_PROJECTS;

			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_AUTHORPROJECTS;

			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_TAGPROJECTS;

			// case GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR:

			case GD_TEMPLATE_BLOCK_STORIES_TYPEAHEAD:

			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_STORIES;

			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_AUTHORSTORIES;

			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_TAGSTORIES;

			// case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_TYPEAHEAD:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_ANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_AUTHORANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_TAGANNOUNCEMENTS;

			// case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_TYPEAHEAD:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_DISCUSSIONS;

			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_AUTHORDISCUSSIONS;

			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_TAGDISCUSSIONS;
			
			// case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR:
			
			case GD_TEMPLATE_BLOCK_FEATURED_TYPEAHEAD:

			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST:
			
				return GD_TEMPLATE_FILTER_FEATURED;
				
			// // case GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR:
			
			case GD_TEMPLATE_BLOCK_BLOG_TYPEAHEAD:

			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST:
			// case GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL:
			
				return GD_TEMPLATE_FILTER_BLOG;

			// // case GD_TEMPLATE_BLOCK_RESOURCES_TYPEAHEAD:
			// case GD_TEMPLATE_BLOCK_RESOURCES_SCROLL_DETAILS:
			// case GD_TEMPLATE_BLOCK_RESOURCES_SCROLL_FULLVIEW:
			// case GD_TEMPLATE_BLOCK_RESOURCES_SCROLL_THUMBNAIL:
			// case GD_TEMPLATE_BLOCK_RESOURCES_SCROLL_LIST:

			// 	return GD_TEMPLATE_FILTER_RESOURCES;

			case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
				
				return GD_TEMPLATE_FILTER_MYPROJECTS;

			// case GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT:
			// case GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW:

			// 	return GD_TEMPLATE_FILTER_MYRESOURCES;

			case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:
				
				return GD_TEMPLATE_FILTER_MYSTORIES;

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
				
				return GD_TEMPLATE_FILTER_MYANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
				
				return GD_TEMPLATE_FILTER_MYDISCUSSIONS;
		}
		
		return parent::get_filter_template($template_id);
	}

	function get_dataload_source($template_id, $atts) {

		global $gd_template_settingsmanager;
		
		switch ($template_id) {

			// These are the Profile Blocks, they will always be used inside an is_author() page
			// Then, point them not the is_page() page, but to the author url (mesym.com/p/mesym) and
			// an attr "tab" indicating this page through its path. This way, users can go straight to their 
			// information by typing their url: mesym.com/p/mesym?tab=events. Also good for future API
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:

				$ret = GD_Template_Processor_CustomSectionBlocksUtils::get_author_dataloadsource($template_id);
				break;

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:
			
				$ret = GD_Template_Processor_CustomSectionBlocksUtils::get_tag_dataloadsource($template_id);
				break;

			default:

				$ret = parent::get_dataload_source($template_id, $atts);
				break;
		}

		// Add the format attr
		$tables = array(
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT,
		);
		$details = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS,
		);
		$simpleviews = array(
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW,
			
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW,
			
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW,
			
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW,
		);
		$fullviews = array(
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW,
			
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW,
			
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW,
			
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW,
		);
		$thumbnails = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL,
			// GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL,
		);
		$lists = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST,
		);
		$typeaheads = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_PROJECTS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_STORIES_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_FEATURED_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_BLOG_TYPEAHEAD,
		);
		$carousels = array(
			GD_TEMPLATE_BLOCK_BLOG_CAROUSEL,
			GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL,
		);
		if (in_array($template_id, $tables)) {
			
			$format = GD_TEMPLATEFORMAT_TABLE;
		}
		elseif (in_array($template_id, $details)) {
			
			$format = GD_TEMPLATEFORMAT_DETAILS;
		}
		elseif (in_array($template_id, $simpleviews)) {
			
			$format = GD_TEMPLATEFORMAT_SIMPLEVIEW;
		}
		elseif (in_array($template_id, $fullviews)) {
			
			$format = GD_TEMPLATEFORMAT_FULLVIEW;
		}
		elseif (in_array($template_id, $thumbnails)) {
			
			$format = GD_TEMPLATEFORMAT_THUMBNAIL;
		}
		elseif (in_array($template_id, $lists)) {
			
			$format = GD_TEMPLATEFORMAT_LIST;
		}
		elseif (in_array($template_id, $carousels)) {
			
			$format = GD_TEMPLATEFORMAT_CAROUSEL;
		}
		elseif (in_array($template_id, $typeaheads)) {
			
			$format = GD_TEMPLATEFORMAT_TYPEAHEAD;
		}

		if ($format) {

			$ret = add_query_arg(GD_URLPARAM_FORMAT, $format, $ret);
		}
	
		return $ret;
	}

	protected function get_block_page($template_id) {

		global $gd_template_settingsmanager;

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_BLOG_CAROUSEL:
			case GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL:

				if ($page = $gd_template_settingsmanager->get_block_page($template_id, GD_SETTINGS_HIERARCHY_PAGE)) {

					return $page;
				}
				break;

			// These are the Profile Blocks, they will always be used inside an is_author() page
			// Then, point them not the is_page() page, but to the author url (mesym.com/p/mesym) and
			// an attr "tab" indicating this page through its path. This way, users can go straight to their 
			// information by typing their url: mesym.com/p/mesym?tab=events. Also good for future API
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:
			
				if ($page = $gd_template_settingsmanager->get_block_page($template_id, GD_SETTINGS_HIERARCHY_AUTHOR)) {

					return $page;
				}
				break;

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:

				if ($page = $gd_template_settingsmanager->get_block_page($template_id, GD_SETTINGS_HIERARCHY_TAG)) {

					return $page;
				}
				break;
		}
	
		return parent::get_block_page($template_id);
	}

	protected function get_dataload_query_args($template_id, $atts) {

		$ret = parent::get_dataload_query_args($template_id, $atts);
		
		$myposts_query_args = array(					
			'author' => get_current_user_id(), // Logged-in author			
			'post-status' => array('publish', 'draft', 'pending') // Any post type
		);
		
		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_PROJECTS_TYPEAHEAD:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:

				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_PROJECTS;
				break;

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_TYPEAHEAD:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			
				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_DISCUSSIONS;
				break;

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_TYPEAHEAD:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			
				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_ANNOUNCEMENTS;
				break;

			case GD_TEMPLATE_BLOCK_STORIES_TYPEAHEAD:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:
			
				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_STORIES;
				break;

			case GD_TEMPLATE_BLOCK_FEATURED_TYPEAHEAD:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST:
			
				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_FEATURED;
				break;


			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_BLOG_TYPEAHEAD:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST:
			// case GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS:
			
				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_BLOG;
				break;

			case GD_TEMPLATE_BLOCK_BLOG_CAROUSEL:
			
				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_BLOG;
				$ret['limit'] = 6;
				break;

			case GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:
			
				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_FEATURED;
				$ret['limit'] = 6;
				break;

			case GD_TEMPLATE_BLOCK_THOUGHTS_SCROLL:

				$ret['cat'] = POPTHEME_WASSUP_SECTIONPROCESSORS_CAT_THOUGHTS;
				$ret['limit'] = 6;
				break;

			case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
			
				$ret = array_merge(
					$ret,
					$this->get_dataload_query_args(GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR, $atts),
					$myposts_query_args
				);
				break;

			case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:
			
				$ret = array_merge(
					$ret,
					$this->get_dataload_query_args(GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR, $atts),
					$myposts_query_args
				);
				break;

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
			
				$ret = array_merge(
					$ret,
					$this->get_dataload_query_args(GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR, $atts),
					$myposts_query_args
				);
				break;

			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
			
				$ret = array_merge(
					$ret,
					$this->get_dataload_query_args(GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR, $atts),
					$myposts_query_args
				);
				break;
		}

		switch ($template_id) {

			// Filter by the Profile/Community
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:

				GD_Template_Processor_CustomSectionBlocksUtils::add_dataloadqueryargs_authorcontent($ret);
				break;

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:

				GD_Template_Processor_CustomSectionBlocksUtils::add_dataloadqueryargs_tagcontent($ret);
				break;
		}

		$simpleviews = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW,
			
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW,
		);
		$fullviews = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW,
			
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW,
		);

		// Bring only 3 items for the fullview
		if (in_array($template_id, $fullviews) || in_array($template_id, $simpleviews)) {
			
			$ret['limit'] = 6;
		}

		// Allow to override the limit by $atts (eg: for the Website Features, Filter section)
		if ($limit = $this->get_att($template_id, $atts, 'limit')) {
			$ret['limit'] = $limit;
		}

		return $ret;
	}

	protected function get_controlgroup_top($template_id) {

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:
			
				// Allow URE to add the ContentSource switch
				return GD_TEMPLATE_CONTROLGROUP_BLOCKAUTHORPOSTLIST;

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL:
			// case GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:

				return GD_TEMPLATE_CONTROLGROUP_BLOCKPOSTLIST;

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
			// case GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:
			// case GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW:

				return GD_TEMPLATE_CONTROLGROUP_MYBLOCKPOSTLIST;
		}

		return parent::get_controlgroup_top($template_id);
	}

	function get_latestcount_template($template_id) {
	
		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_PROJECTS;

			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_AUTHOR_PROJECTS;

			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_TAG_PROJECTS;

			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_STORIES;

			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_AUTHOR_STORIES;

			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_TAG_STORIES;

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_ANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_AUTHOR_ANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_TAG_ANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_DISCUSSIONS;

			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_AUTHOR_DISCUSSIONS;

			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:

				return GD_TEMPLATE_LATESTCOUNT_TAG_DISCUSSIONS;

			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST:
			
				return GD_TEMPLATE_LATESTCOUNT_FEATURED;
		}

		return parent::get_latestcount_template($template_id);
	}

	protected function get_messagefeedback($template_id) {
	
		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:

				return GD_TEMPLATE_MESSAGEFEEDBACK_PROJECTS;

			case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
			
				return GD_TEMPLATE_MESSAGEFEEDBACK_MYPROJECTS;

			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:

				return GD_TEMPLATE_MESSAGEFEEDBACK_STORIES;

			case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:
			
				return GD_TEMPLATE_MESSAGEFEEDBACK_MYSTORIES;

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:

				return GD_TEMPLATE_MESSAGEFEEDBACK_ANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
			
				return GD_TEMPLATE_MESSAGEFEEDBACK_MYANNOUNCEMENTS;

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:

			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:

				return GD_TEMPLATE_MESSAGEFEEDBACK_DISCUSSIONS;

			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
			
				return GD_TEMPLATE_MESSAGEFEEDBACK_MYDISCUSSIONS;
			
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS:
			
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST:
			
			case GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:

				return GD_TEMPLATE_MESSAGEFEEDBACK_FEATURED;
				
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST:
			// case GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_BLOG_CAROUSEL:
			
				return GD_TEMPLATE_MESSAGEFEEDBACK_BLOG;

			// case GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT:
				// case GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW:

			// 	return GD_TEMPLATE_MESSAGEFEEDBACK_MYRESOURCES;

			case GD_TEMPLATE_BLOCK_THOUGHTS_SCROLL:

				return GD_TEMPLATE_MESSAGEFEEDBACK_THOUGHTS;
		}

		return parent::get_messagefeedback($template_id);
	}

	protected function get_messagefeedback_position($template_id) {

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
			// case GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:

			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:
			// case GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW:
			
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR:

			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW:

			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL:
			// case GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL:
			
			case GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST:
			
			case GD_TEMPLATE_BLOCK_BLOG_CAROUSEL:
			case GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:
			
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:
			
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:
			
				return 'bottom';
		}

		return parent::get_messagefeedback_position($template_id);
	}

	function get_title($template_id) {
	
		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

				return GD_Template_Processor_CustomSectionBlocksUtils::get_author_title();

			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
			case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
			case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:

				return GD_Template_Processor_CustomSectionBlocksUtils::get_tag_title();
			
			case GD_TEMPLATE_BLOCK_BLOG_CAROUSEL:
			case GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:

				return '';

			case GD_TEMPLATE_BLOCK_WHOWEARE_CORE_SCROLL:

				$title = __('The Drivers', 'poptheme-wassup-sectionprocessors');
				break;
			
			case GD_TEMPLATE_BLOCK_WHOWEARE_ADVISORS_SCROLL:
				
				$title = __('The Advisors', 'poptheme-wassup-sectionprocessors');
				break;

			case GD_TEMPLATE_BLOCK_WHOWEARE_VOLUNTEERS_SCROLL:
					
				$title = __('The Volunteers', 'poptheme-wassup-sectionprocessors');
				break;
		}
		
		// Allow RIPESS to override this title for "The Advisors" => "Executive Team"
		if ($title) {

			return apply_filters(
				'GD_Custom_Template_Processor_CustomSectionBlocks:title',
				$title,
				$template_id
			);
		}
		return parent::get_title($template_id);
	}

	function get_submenu($template_id) {

		// Do not add for the quickview
		$vars = GD_TemplateManager_Utils::get_vars();
		if (!$vars['fetching-json-quickview']) {

			switch ($template_id) {

				case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST:
				case GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST:
				case GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST:
				case GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST:

					return GD_TEMPLATE_SUBMENU_AUTHOR;

				case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS:
				case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW:
				case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW:
				case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL:
				case GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST:
				case GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST:
				case GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST:
				case GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST:

					return GD_TEMPLATE_SUBMENU_TAG;
			}
		}
		
		return parent::get_submenu($template_id);
	}

	protected function get_iohandler($template_id) {
		
		return GD_DATALOAD_IOHANDLER_LIST;
	}

	function get_dataloader($template_id) {

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_WHOWEARE_CORE_SCROLL:
			case GD_TEMPLATE_BLOCK_WHOWEARE_ADVISORS_SCROLL:
			case GD_TEMPLATE_BLOCK_WHOWEARE_VOLUNTEERS_SCROLL:
			
				return GD_DATALOADER_FIXEDUSERLIST;
		}
			
		return GD_DATALOADER_POSTLIST;
	}

	function get_data_setting($template_id, $atts) {

		$ret = parent::get_data_setting($template_id, $atts);
	
		switch ($template_id) {
				
			case GD_TEMPLATE_BLOCK_WHOWEARE_CORE_SCROLL:
			case GD_TEMPLATE_BLOCK_WHOWEARE_ADVISORS_SCROLL:
			case GD_TEMPLATE_BLOCK_WHOWEARE_VOLUNTEERS_SCROLL:
			
				$ret['iohandler-atts'][GD_DATALOAD_IOHANDLER_LIST_STOPFETCHING] = true;
				$ret['dataload-atts']['include'] = gd_fixedscroll_user_ids($template_id);
				break;
		}

		// Set the display configuration
		$navigators = array(
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR,
		);
		$addons = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS,
		);
		$details = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS,
			
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS,
			
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS,
		);
		$simpleviews = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW,
			
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW,
		);
		$fullviews = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW,
			
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW,
		);
		$thumbnails = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL,
			// GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL,
		);
		$lists = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST,
		);
		$tables = array(
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT,
		);
		$typeaheads = array(
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_PROJECTS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_STORIES_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_FEATURED_TYPEAHEAD,
			GD_TEMPLATE_BLOCK_BLOG_TYPEAHEAD,
		);
		$carousels = array(
			GD_TEMPLATE_BLOCK_BLOG_CAROUSEL,
			GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL,
		);
		// Important: set always this value, because the IOHandler used by all different blocks is the same!
		// So if not restarting, the display will be the same as the previous one, and sometimes it doesn't need the display
		// (Eg: tables)
		// $ret[GD_URLPARAM_FORMAT] = '';
		if (in_array($template_id, $navigators)) {
			
			$format = GD_TEMPLATEFORMAT_NAVIGATOR;
		}
		elseif (in_array($template_id, $addons)) {
			
			$format = GD_TEMPLATEFORMAT_ADDONS;
		}
		elseif (in_array($template_id, $details)) {
			
			$format = GD_TEMPLATEFORMAT_DETAILS;
		}
		elseif (in_array($template_id, $simpleviews)) {
			
			$format = GD_TEMPLATEFORMAT_SIMPLEVIEW;
		}
		elseif (in_array($template_id, $fullviews)) {
			
			$format = GD_TEMPLATEFORMAT_FULLVIEW;
		}
		elseif (in_array($template_id, $thumbnails)) {
			
			$format = GD_TEMPLATEFORMAT_THUMBNAIL;
		}
		elseif (in_array($template_id, $lists)) {
			
			$format = GD_TEMPLATEFORMAT_LIST;
		}
		elseif (in_array($template_id, $carousels)) {
			
			$format = GD_TEMPLATEFORMAT_CAROUSEL;
		}
		elseif (in_array($template_id, $tables)) {
			
			$format = GD_TEMPLATEFORMAT_TABLE;
		}
		elseif (in_array($template_id, $typeaheads)) {
			
			$format = GD_TEMPLATEFORMAT_TYPEAHEAD;
		}

		if ($format) {
			$ret['iohandler-atts'][GD_URLPARAM_FORMAT] = $format;
		}
		
		return $ret;
	}

	function block_requires_user_state($template_id, $atts) {

		switch ($template_id) {
		
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
			case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:

				return true;
		}

		return parent::block_requires_user_state($template_id, $atts);
	}
	// function get_block_jsmethod($template_id, $atts) {

	// 	$ret = parent::get_block_jsmethod($template_id, $atts);
		
	// 	switch ($template_id) {
		
	// 		case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT:
	// 		case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT:
	// 		case GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT:
	// 		case GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT:
	// 		case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW:
	// 		case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW:
	// 		case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW:
	// 		case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW:
	// 		case GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW:
	// 		case GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW:
	// 		case GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW:
	// 		case GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW:

	// 			// Only reload/destroy if these are main blocks
	// 			if ($this->get_att($template_id, $atts, 'is-mainblock')) {
	// 				$this->add_jsmethod($ret, 'destroyPageOnUserLoggedOut');
	// 				$this->add_jsmethod($ret, 'refetchBlockOnUserLoggedIn');
	// 			}
	// 			break;
	// 	}

	// 	return $ret;
	// }

	function init_atts($template_id, &$atts) {

		global $gd_template_processor_manager;

		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_BLOG_CAROUSEL:
			case GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL:
			case GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL:

				$this->append_att($template_id, $atts, 'class', 'pop-block-carousel block-posts-carousel');
				break;
		}
		switch ($template_id) {

			case GD_TEMPLATE_BLOCK_BLOG_CAROUSEL:

				$this->append_att($template_id, $atts, 'class', 'block-blog-carousel');
				break;
		}

		// Needed for restraining to 600px together with class pop-outerblock
		$tables = array(
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYPROJECTS_TABLE_EDIT,
			GD_TEMPLATE_BLOCK_MYSTORIES_TABLE_EDIT,
		);
		$feeds = array(
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_SIMPLEVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYDISCUSSIONS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYANNOUNCEMENTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYPROJECTS_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_MYSTORIES_SCROLL_FULLVIEWPREVIEW,
			// GD_TEMPLATE_BLOCK_MYRESOURCES_SCROLL_FULLVIEWPREVIEW,
			GD_TEMPLATE_BLOCK_THOUGHTS_SCROLL,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_NAVIGATOR,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_ADDONS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_THUMBNAIL,
			// GD_TEMPLATE_BLOCK_BLOG_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_DISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_ANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_FEATURED_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_PROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_STORIES_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_BLOG_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_AUTHORDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_AUTHORSTORIES_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_DETAILS,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_SIMPLEVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_FULLVIEW,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_THUMBNAIL,
			GD_TEMPLATE_BLOCK_TAGDISCUSSIONS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGANNOUNCEMENTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGPROJECTS_SCROLL_LIST,
			GD_TEMPLATE_BLOCK_TAGSTORIES_SCROLL_LIST,

			GD_TEMPLATE_BLOCK_WHOWEARE_ADVISORS_SCROLL,
			GD_TEMPLATE_BLOCK_WHOWEARE_CORE_SCROLL,
			GD_TEMPLATE_BLOCK_WHOWEARE_VOLUNTEERS_SCROLL,	
		);
		$carousels = array(
			GD_TEMPLATE_BLOCK_BLOG_CAROUSEL,
			GD_TEMPLATE_BLOCK_FEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_AUTHORFEATURED_CAROUSEL,
			GD_TEMPLATE_BLOCK_TAGFEATURED_CAROUSEL,
		);
		if (in_array($template_id, $tables)) {
			$class = 'tableblock';
		}
		elseif (in_array($template_id, $feeds)) {
			$class = 'feed';
		}
		elseif (in_array($template_id, $carousels)) {
			$class = 'carousel';
		}
		if ($class) {
			$this->append_att($template_id, $atts, 'class', $class);
		}
			
		return parent::init_atts($template_id, $atts);
	}
}


/**---------------------------------------------------------------------------------------------------------------
 * Initialization
 * ---------------------------------------------------------------------------------------------------------------*/
new GD_Custom_Template_Processor_CustomSectionBlocks();