"use strict";!function(e){window.popBlockGroupDataQuery={initBlockGroupFilter:function(o){var t=this,r=o.pageSection,a=o.block,c=o.targets;c.each(function(o){var t=e(this);blocks.each(function(){var o=e(this);popManager.setFilterBlockParams(r,o,t)})}),c.submit(function(o){o.preventDefault();var c=e(this);t.filterBlockGroup(r,a,c)})},reloadBlockGroup:function(e){var o=e.pageSection,t=e.block;e.targets.click(function(e){e.preventDefault();var r=popManager.getBlockGroupActiveBlock(t);popManager.reload(o,r)})},refetchBlockGroupOnUserLoggedIn:function(o){var t=o.domain,r=o.pageSection,a=o.targets;e(document).one("user:loggedin:"+t,function(o,t){"initialfeedback"!=t&&a.each(function(){var o=e("#"+e(this).attr("id"));if(o.length){var t=popManager.getBlockGroupBlocks(o),a=popManager.getBlockGroupActiveBlock(o);t.each(function(){var o=e(this);o.attr("id")==a.attr("id")?popBlockDataQuery.refetchBlock(r,o):popBlockDataQuery.makeOneTimeRefetch(r,o)})}})})},filterBlockGroup:function(o,t,r){var a=popManager.getBlockGroupActiveBlock(t);popManager.getBlockGroupBlocks(t).each(function(){var t=e(this);popManager.setFilterBlockParams(o,t,r),t.attr("id")==a.attr("id")?popManager.reload(o,t):popBlockDataQuery.makeOneTimeRefetch(o,t)})}}}(jQuery),popJSLibraryManager.register(popBlockGroupDataQuery,["initBlockGroupFilter","reloadBlockGroup","refetchBlockGroupOnUserLoggedIn"]);