!function(e){window.popEventReactions={resetOnSuccess:function(t){var o=t.domain,n=t.pageSection,a=t.targets,g=popManager.getSettingsId(n);a.on("fetched",function(t,a){var r=e(this),s=popManager.getSettingsId(r);!0===a.feedback.block[g][s].result&&popManager.reset(o,n,r,{"skip-restore":!0})})},resetOnUserLogout:function(t){var o=t.domain,n=t.pageSection,a=t.targets;e(document).on("user:loggedout:"+o,function(t,g){a.each(function(){var t=e("#"+e(this).attr("id"));t.length&&popManager.reset(o,n,t)})})},destroyPageOnSuccess:function(t){var o=t.pageSection,n=t.targets,a=popManager.getSettingsId(o);n.on("fetched",function(t,n){var g=e(this),r=popManager.getSettingsId(g),s=n.feedback.block[a][r],c=popManager.getFrameTarget(o);if(!0===s.result){var i=g.data("destroytime")||0;setTimeout(function(){popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(g),c)},i)}})},destroyPageOnUserLoggedOut:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserLoggedOut(o,a)})},destroyPageOnUserNoRole:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserNoRole(o,n,a)})},deleteBlockFeedbackValueOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block;e(document).on("user:loggedinout:"+o,function(t,g){if("initialfeedback"!=g&&"initialuserdata"!=g){var r=popManager.getJsSettings(o,n,a)["user:loggedinout-deletefeedbackvalue"]||[];if(r.length){var s=popManager.getBlockFeedback(o,n,a);e.each(r,function(e,t){var o=s;for(i=0;i<t.length-1;i++)o=o[t[i]];delete o[t[t.length-1]]})}}})},scrollTopOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block,g=t.targets;e(document).on("user:loggedinout:"+o,function(t,r){"initialfeedback"!=r&&"initialuserdata"!=r&&g.each(function(){var t=e(this);if(e("#"+t.attr("id")).length){var g=popManager.getJsSettings(o,n,a,t)["scrolltop-animate"]||!1;popManager.scrollToElem(t,t,g)}})})},closeMessageFeedbacksOnPageSectionOpen:function(e){var t=e.pageSection;e.targets;popPageSectionManager.getGroup(t).on("on.bs.pagesection-group:pagesection-"+t.attr("id")+":opened",function(){popManager.closeMessageFeedbacks(t)})},closePageSectionOnSuccess:function(t){var o=this,n=t.pageSection,a=t.targets,g=popManager.getSettingsId(n);a.on("fetched",function(t,a){var r=e(this),s=popManager.getSettingsId(r);if(!0===a.feedback.block[g][s].result){var c=r.data("closetime")||0;o.timeoutClosePageSection(n,c)}})},closePageSectionOnTabpaneShown:function(t){var o=t.pageSection;t.targets.each(function(){var t=e(this);popManager.getPageSectionPage(t).on("shown.bs.tabpane",function(){popPageSectionManager.close(o)}),popPageSectionManager.close(o)})},timeoutClosePageSection:function(e,t){setTimeout(function(){popPageSectionManager.close(e),popManager.closeMessageFeedbacks(e)},t)},execDestroyPageOnUserLoggedOut:function(t,o){e(document).one("user:loggedout:"+t,function(t,n){o.each(function(){var t=e("#"+e(this).attr("id"));if(t.length){var o=popManager.getPageSection(t),n=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(t),n)}})})},execDestroyPageOnUserNoRole:function(t,o,n){var a=this,g=n.data("neededrole");e(document).one("user:updated:"+t,function(r,s){if((n=e("#"+n.attr("id"))).length)if(s.roles&&-1==s.roles.indexOf(g)){var c=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(n),c)}else a.execDestroyPageOnUserNoRole(t,o,n)})}}}(jQuery),popJSLibraryManager.register(popEventReactions,["closePageSectionOnTabpaneShown","resetOnSuccess","resetOnUserLogout","closeMessageFeedbacksOnPageSectionOpen","closePageSectionOnSuccess","destroyPageOnUserLoggedOut","destroyPageOnUserNoRole","deleteBlockFeedbackValueOnUserLoggedInOut","scrollTopOnUserLoggedInOut","destroyPageOnSuccess"]);