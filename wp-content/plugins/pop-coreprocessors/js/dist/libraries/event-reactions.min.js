!function(e){popEventReactions={resetOnSuccess:function(t){var o=t.domain,a=t.pageSection,n=t.targets,g=popManager.getSettingsId(a);n.on("fetched",function(t,n){var r=e(this),s=popManager.getSettingsId(r);!0===n.feedback.block[g][s].result&&popManager.reset(o,a,r,{"skip-restore":!0})})},resetOnUserLogout:function(t){var o=t.domain,a=t.pageSection,n=t.targets;e(document).on("user:loggedout:"+o,function(t,g){n.each(function(){var t=e("#"+e(this).attr("id"));t.length&&popManager.reset(o,a,t)})})},destroyPageOnSuccess:function(t){var o=t.pageSection,a=t.targets,n=popManager.getSettingsId(o);a.on("fetched",function(t,a){var g=e(this),r=popManager.getSettingsId(g),s=a.feedback.block[n][r],c=popManager.getFrameTarget(o);if(!0===s.result){var i=g.data("destroytime")||0;setTimeout(function(){popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(g),c)},i)}})},destroyPageOnUserLoggedOut:function(e){var t=this,o=e.domain,a=e.pageSection,n=e.targets;a.one("completed",function(){t.execDestroyPageOnUserLoggedOut(o,n)})},destroyPageOnUserNoRole:function(e){var t=this,o=e.domain,a=e.pageSection,n=e.targets;a.one("completed",function(){t.execDestroyPageOnUserNoRole(o,a,n)})},deleteBlockFeedbackValueOnUserLoggedInOut:function(t){var o=t.domain,a=t.pageSection,n=t.block;e(document).on("user:loggedinout:"+o,function(t,g){if("initialfeedback"!=g&&"initialuserdata"!=g){var r=popManager.getJsSettings(o,a,n)["user:loggedinout-deletefeedbackvalue"]||[];if(r.length){var s=popManager.getBlockFeedback(o,a,n);e.each(r,function(e,t){var o=s;for(i=0;i<t.length-1;i++)o=o[t[i]];delete o[t[t.length-1]]})}}})},scrollTopOnUserLoggedInOut:function(t){var o=t.domain,a=t.pageSection,n=t.block,g=t.targets;e(document).on("user:loggedinout:"+o,function(t,r){"initialfeedback"!=r&&"initialuserdata"!=r&&g.each(function(){var t=e(this);if(e("#"+t.attr("id")).length){var g=popManager.getJsSettings(o,a,n,t)["scrolltop-animate"]||!1;popManager.scrollToElem(t,t,g)}})})},closeMessageFeedbacksOnPageSectionOpen:function(e){var t=e.pageSection;e.targets;popPageSectionManager.getGroup(t).on("on.bs.pagesection-group:pagesection-"+t.attr("id")+":opened",function(){popManager.closeMessageFeedbacks(t)})},closePageSectionOnSuccess:function(t){var o=this,a=t.pageSection,n=t.targets,g=popManager.getSettingsId(a);n.on("fetched",function(t,n){var r=e(this),s=popManager.getSettingsId(r);if(!0===n.feedback.block[g][s].result){var c=r.data("closetime")||0;o.timeoutClosePageSection(a,c)}})},closePageSectionOnTabpaneShown:function(t){var o=t.pageSection;t.targets.each(function(){var t=e(this);popManager.getPageSectionPage(t).on("shown.bs.tabpane",function(){popPageSectionManager.close(o)}),popPageSectionManager.close(o)})},timeoutClosePageSection:function(e,t){setTimeout(function(){popPageSectionManager.close(e),popManager.closeMessageFeedbacks(e)},t)},execDestroyPageOnUserLoggedOut:function(t,o){e(document).one("user:loggedout:"+t,function(t,a){o.each(function(){var t=e("#"+e(this).attr("id"));if(t.length){var o=popManager.getPageSection(t),a=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(t),a)}})})},execDestroyPageOnUserNoRole:function(t,o,a){var n=this,g=a.data("neededrole");e(document).one("user:updated:"+t,function(r,s){if((a=e("#"+a.attr("id"))).length)if(s.roles&&-1==s.roles.indexOf(g)){var c=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(a),c)}else n.execDestroyPageOnUserNoRole(t,o,a)})}}}(jQuery),popJSLibraryManager.register(popEventReactions,["closePageSectionOnTabpaneShown","resetOnSuccess","resetOnUserLogout","closeMessageFeedbacksOnPageSectionOpen","closePageSectionOnSuccess","destroyPageOnUserLoggedOut","destroyPageOnUserNoRole","deleteBlockFeedbackValueOnUserLoggedInOut","scrollTopOnUserLoggedInOut","destroyPageOnSuccess"]);