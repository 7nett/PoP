"use strict";Handlebars.registerHelper("latestCountTargets",function(e,a){var t=[],s=".pop-block."+M.JS_INITIALIZED+" > .blocksection-latestcount > .pop-latestcount",n=e["post-type"],r=e.cats;return r&&r.length&&t.push(s+"."+n+"-"+r.join("."+n+"-")),jQuery.each(e.tags,function(e,a){var n=s+".tag"+a;t.push(n)}),jQuery.each(e.authors,function(e,a){var o=s+".author"+a;r&&r.length&&(o+=".author-"+n+"-"+r.join(".author-"+n+"-")),t.push(o)}),jQuery.each(e.references,function(e,a){var o=s+".single"+a;r&&r.length&&(o+=".single-"+n+"-"+r.join(".single-"+n+"-")),t.push(o)}),new Handlebars.SafeString(t.join(","))}),Handlebars.registerHelper("formatFeedbackMessage",function(e,a){var t=a.hash.tls,s=a.hash.pss,n=a.hash.bs;return e=popFeedbackMessage.formatFeedbackMessage(e,t,s,n),new Handlebars.SafeString(e)});
;"use strict";!function(e){window.popSystem={destroyPage:function(t){var a=t.domain,o=t.pageSection;t.targets.click(function(t){t.preventDefault();var n=e(this),r=e(n.data("target"));popManager.destroyPageSectionPage(a,o,r)})},closePageSection:function(e){var t=e.pageSection;e.targets.click(function(e){e.preventDefault(),popPageSectionManager.close(t)})}}}(jQuery),popJSLibraryManager.register(popSystem,["closePageSection","destroyPage"]);
;"use strict";!function(t){window.popAppShell={strings:{},fetchBrowserURL:function(e){t(document).ready(function(t){var e={skipPushState:!0},r=window.location.href;r.startsWith(M.HOMELOCALE_URL+"/")||(r=M.HOMELOCALE_URL+r.substr(M.HOME_DOMAIN.length)),popManager.fetch(r,e)})}}}(jQuery),popJSLibraryManager.register(popAppShell,["fetchBrowserURL"]);
;"use strict";!function(e){window.popAddEditPost={formCreatePostBlock:function(e){var t=this,a=e.domain,o=e.pageSection,n=e.block;popManager.getSettingsId(o),popManager.getSettingsId(n);n.one("fetched",function(e,i){t.execFormCreatePostBlock(a,o,n,i)})},manageStatus:function(e){var t=this,a=e.pageSection,o=e.block,n=e.targets;t.execManageStatus(n);var i=popManager.getSettingsId(a),r=popManager.getSettingsId(o);o.on("fetched",function(e,a){!0===a.feedback.block[i][r].result&&t.execManageStatus(n)})},execFormCreatePostBlock:function(e,t,a,o){var n=this,i=popManager.getSettingsId(t),r=popManager.getSettingsId(a);!0===o.feedback.block[i][r].result?popEventReactions.execDestroyPageOnUserLoggedOut(e,a):a.one("fetched",function(o,i){n.execFormCreatePostBlock(e,t,a,i)})},execManageStatus:function(t){t.each(function(){var t=e(this);t.val()==M.POSTSTATUS.PUBLISH?(t.find('option[value="'+M.POSTSTATUS.PENDING+'"]').attr("disabled","disabled"),t.find('option[value="'+M.POSTSTATUS.PUBLISH+'"]').attr("disabled",!1)):(t.find('option[value="'+M.POSTSTATUS.PUBLISH+'"]').attr("disabled","disabled"),t.find('option[value="'+M.POSTSTATUS.PENDING+'"]').attr("disabled",!1))})}}}(jQuery),popJSLibraryManager.register(popAddEditPost,["formCreatePostBlock","manageStatus"]);
;"use strict";!function(t){window.popEditor={editor:function(i){var e=this,o=i.pageSection,n=i.block,r=i.targets;n.one("rerender",function(t){e.destroy(r)}),popManager.getPageSectionPage(n).one("destroy",function(){e.destroy(r)}),r.each(function(){var i=t(this).find(".pop-editor"),e=i.attr("id");i.closest("form").on("beforeSubmit",function(){tinymce.get(e)&&tinymce.get(e).save()})}),r.filter(".pop-editor-form-clear").each(function(){var i=t(this).find(".pop-editor"),e=i.attr("id");i.closest("form").on("clear",function(){tinymce.get(e)&&tinymce.get(e).setContent("")})}),!POP_CACHED_SETTINGS&&popManager.isFirstLoad(o)||t(document).ready(function(t){r.each(function(){var i=t(this).find(".pop-editor"),e=i.attr("id"),o=tinyMCEPreInit.mceInit[M.TEMPLATE_EDITOR_NAME];i.hasClass("pop-editor-autofocus")&&(o=t.extend({},o,{auto_focus:e})),tinyMCE.init(o),tinymce.execCommand("mceAddEditor",!0,e);var n=t.extend({},tinyMCEPreInit.qtInit[M.TEMPLATE_EDITOR_NAME],{id:e});quicktags(n),window.wpActiveEditor||(window.wpActiveEditor=e),"undefined"!=typeof jQuery?i.closest(".wp-editor-wrap").on("click.wp-editor",function(){this.id&&(window.wpActiveEditor=this.id.slice(3,-5))}):document.getElementById("wp-"+e+"-wrap").onclick=function(){window.wpActiveEditor=this.id.slice(3,-5)}})})},destroy:function(i){i.each(function(){var i=t(this).find(".pop-editor").attr("id");tinymce.execCommand("mceRemoveEditor",!1,i)})}}}(jQuery),popJSLibraryManager.register(popEditor,["editor"]);
;"use strict";function mentions_source(e,n,t){popMentions.source(e,n,t)}function mentions_insert(e){return popMentions.insert(e)}function mentions_render(e){return popMentions.render(e)}!function(e){window.popMentions={previousData:{},documentInitialized:function(n){var t=this;e(document).ready(function(e){t.prefetch()})},prefetch:function(){var n=this;e.each(M.MENTIONS.TYPES,function(e,t){n.fetchData(e,t.baseline)})},fetchData:function(n,t,r){var i=this,a=popManager.getStoredData(t);a?i.processData(n,a,r):e.getJSON(t,function(e){popManager.storeData(t,e,864e5),i.processData(n,e,r)})},processData:function(e,n,t){this.previousData[e]=n,t&&t(n)},source:function(e,n,t){var r=this;if(M.MENTIONS.TYPES[t]){var i;if(i=e?M.MENTIONS.TYPES[t].url.replace(M.MENTIONS.QUERYWILDCARD,e):M.MENTIONS.TYPES[t].baseline){var a={url:i,delimiter:t,query:e};popJSLibraryManager.execute("mentionsSource",a),i=a.url,n(r.previousData[t]||[]),r.fetchData(t,i,n)}}},render:function(e){var n=this.infereDelimiter(e);return'<li><a href="javascript:;"><span>'+popManager.getHtml(M.MENTIONS.TYPES[n].template,e)+"</span></a></li>"},insert:function(e){var n=this.infereDelimiter(e);return"<span>"+n+e[M.MENTIONS.TYPES[n].key]+"</span>&nbsp;"},infereDelimiter:function(n){var t="";return e.each(M.MENTIONS.TYPES,function(e,r){if(void 0!==n[r.key])return t=e,-1}),t}}}(jQuery),popJSLibraryManager.register(popMentions,["documentInitialized"]);
;"use strict";!function(e){window.popFeaturedImage={frame:null,init:function(){var t=this;e(document).ready(function(e){t.frame=wp.media({title:M.LABELS.MEDIA_FEATUREDIMAGE_TITLE,multiple:!1,library:{type:"image"},button:{text:M.LABELS.MEDIA_FEATUREDIMAGE_BTN}})})},documentInitializedIndependent:function(t){var a=this;e(document).ready(function(e){a.frame.on("open",function(){var e=a.getOpenFeaturedImage().find('input[type="hidden"]');if(e.val()){var t=a.frame.state().get("selection"),n=wp.media.attachment(e.val());n.fetch(),t.add(n?[n]:[])}}),a.frame.on("close",function(){var t=e(".pop-featuredimage.open"),n=a.frame.state().get("selection");if(n.length){var i,r,o=t.data("img-size");n.map(function(e){var t=(e=e.toJSON()).sizes[o]||e.sizes.medium||e.sizes.thumbnail;i=e.id,r={src:t.url,width:t.width,height:t.height}});var m=popManager.getBlock(t),p=popManager.getPageSection(m),u=popManager.getBlockTopLevelDomain(m);a.merge(u,p,m,t,i,r)}t.removeClass("open")})})},featuredImageSet:function(t){var a=this;t.pageSection,t.block;t.targets.click(function(t){t.preventDefault(),e(this).closest(".pop-featuredimage").addClass("open"),a.frame.open()})},featuredImageRemove:function(t){var a=this,n=t.domain,i=t.pageSection,r=t.block;t.targets.click(function(t){t.preventDefault();var o=e(this).closest(".pop-featuredimage");a.remove(n,i,r,o)})},merge:function(e,t,a,n,i,r){var o={extendContext:{value:i,img:r}},m=n.data("merge-template");popJSRuntimeManager.setBlockURL(a),popManager.mergeTargetTemplate(e,t,a,m,o),popManager.runJSMethods(e,t,a,m,"full")},remove:function(e,t,a,n){this.merge(e,t,a,n,"","")},getFrame:function(){return this.frame},getOpenFeaturedImage:function(){return e(".pop-featuredimage.open")}}}(jQuery),popJSLibraryManager.register(popFeaturedImage,["documentInitializedIndependent","featuredImageSet","featuredImageRemove"]),popFeaturedImage.init();
;"use strict";!function(e){window.popMediaManager={domain:null,initialized:{},needsRefresh:{},init:function(){var i=this;e(document.body).on("click.add-media-button",".insert-media",function(t){var n=e(t.currentTarget),a=e("#"+n.data("editor")),d=popManager.getBlock(a);i.domain=popManager.getBlockTopLevelDomain(d)})},documentInitializedIndependent:function(){var i=this;e(document).on("uploader:start:settings",function(e,t){i.setUploadSettings(t)}),e(document).on("user:loggedout",function(e){i.needsRefresh={featuredImage:!0,"editor-gallery":!0,"editor-insert":!0}}),e(document).ready(function(e){e(document.body).on("click.add-media-button",".insert-media,.media-menu-item",function(e){var t=wp.media.frame.state();["gallery","insert"].indexOf(t.id)>-1&&(i.initialized["editor-"+t.id]&&i.needsRefresh["editor-"+t.id]&&i.refresh(t),i.initialized["editor-"+t.id]=!0,i.needsRefresh["editor-"+t.id]=!1)}),popFeaturedImage.getFrame().on("open",function(){i.initialized.featuredImage&&i.needsRefresh.featuredImage&&i.refresh(wp.media.frame.state()),i.initialized.featuredImage=!0,i.needsRefresh.featuredImage=!1})})},featuredImageSet:function(e){var i=this,t=e.domain;e.targets.click(function(e){i.domain=t})},getDomain:function(){return this.domain},refresh:function(e){e.get("library")._requery(!0)},setUploadSettings:function(e){e.multipart_params.post_id&&delete e.multipart_params.post_id}}}(jQuery),popJSLibraryManager.register(popMediaManager,["documentInitializedIndependent"]),popJSLibraryManager.register(popMediaManager,["featuredImageSet"],!0),popMediaManager.init();
;"use strict";!function(e){window.popMediaManagerCORS={domains:{"editor-gallery":null,"editor-insert":null,featuredImage:null},documentInitializedIndependent:function(){var a=this;e(document).on("wp.ajax:send:options",function(e,t){a.setEditorOptions(t)}),e(document).on("uploader:start:settings",function(e,t){a.setUploadSettings(t)}),e(document).ready(function(e){e(document.body).on("click.add-media-button",".insert-media,.media-menu-item",function(e){var t=popMediaManager.getDomain(),n=wp.media.frame.state();["gallery","insert"].indexOf(n.id)>-1&&(t&&a.domains["editor-"+n.id]&&t!=a.domains["editor-"+n.id]&&(popMediaManager.needsRefresh["editor-"+n.id]=!0),a.domains["editor-"+n.id]=t)}),popFeaturedImage.getFrame().on("open",function(){var e=popMediaManager.getDomain();e&&a.domains.featuredImage&&e!=a.domains.featuredImage&&(popMediaManager.needsRefresh.featuredImage=!0),a.domains.featuredImage=e})})},setEditorOptions:function(e){var a=popMediaManager.getDomain();if(a&&(a!=M.HOME_DOMAIN&&(e.url=a+M.AJAXURL,e.xhrFields={withCredentials:!0},e.crossDomain=!0),e.data&&e.data.action)){var t={"query-attachments":"media-form","save-attachment-compat":"media-form","save-attachment-order":"media-form","send-attachment-to-editor":"media-send-to-editor","send-link-to-editor":"media-send-to-editor"}[e.data.action];if(t){var n=popManager.getTopLevelFeedback(a)[M.URLPARAM_NONCES][t];e.data._wpnonce&&(e.data._wpnonce=n),e.data.nonce&&(e.data.nonce=n),e.data.query&&e.data.query._wpnonce&&(e.data.query._wpnonce=n),e.data.query&&e.data.query.nonce&&(e.data.query.nonce=n)}}},setUploadSettings:function(e){var a=popMediaManager.getDomain();if(a){e.url=a+M.UPLOADURL;var t={"upload-attachment":"media-form"}[e.multipart_params.action];t&&(e.multipart_params._wpnonce=popManager.getTopLevelFeedback(a)[M.URLPARAM_NONCES][t])}}}}(jQuery),popJSLibraryManager.register(popMediaManagerCORS,["documentInitializedIndependent"],!0);
;"use strict";!function(e){window.popTabs={documentInitialized:function(a){e(document).ready(function(e){var a=!1,t=popManager.getTabsCurrentURL(),n=popManager.getScreenOpenTabs();if(e.each(n,function(e,n){if(n.length>1||e!=M.URLPARAM_TARGET_MAIN&&n.length||e==M.URLPARAM_TARGET_MAIN&&n[0]!=t)return a=!0,-1}),a)if(e.cookie("opentabs"))"true"==e.cookie("opentabs")?popManager.openTabs():popManager.keepScreenOpenTab(popManager.getTabsCurrentURL(),M.URLPARAM_TARGET_MAIN);else{var r=e("#"+M.IDS_APPSTATUS),o="popTabs.keepScreenOpenTab('{0}', '{1}')".format(popManager.getTabsCurrentURL(),M.URLPARAM_TARGET_MAIN);r.prepend(M.TABS_REOPENMSG.format("popTabs.openTabs()",o))}})},onDestroyPageSwitchTab:function(a){var t=this;a.pageSection;a.targets.each(function(){var a=e(this);popManager.getPageSectionPage(a).on("destroy",function(){t.switchTab(a)})})},addOpenTab:function(a){var t=this,n=a.pageSection,r=a.targets;!1!==a.addOpenTab&&r.each(function(){var a=e(this),r=t.getDestroyPageTabParams(n,a);popManager.addOpenTab(r.url,r.target)})},closePageTab:function(a){var t=this,n=a.pageSection;a.targets.click(function(a){a.preventDefault();var r=e(this),o=t.getDestroyPageTabParams(n,r);popManager.triggerDestroyTarget(o.url,o.target)})},getDestroyPageTabParams:function(e,a){return{url:a.data("url")||popManager.getTargetParamsScopeURL(popManager.getBlock(a)),target:a.attr("target")||popManager.getFrameTarget(e)}},switchTab:function(e){if(e.prev("a.pop-pagetab-btn").hasClass("active")){var a=popManager.getPageSectionPage(e),t=a.nextAll(".pop-pagesection-page").first();t.length||(t=a.prevAll(".pop-pagesection-page").first()),t.length&&t.find("a.pop-pagetab-btn").trigger("click")}},saveCookie:function(a){e("#"+M.IDS_TABS_REMEMBERCHECKBOX).prop("checked")&&e.cookie("opentabs",a,{expires:365,path:"/"})},openTabs:function(){this.saveCookie("true"),popManager.openTabs()},keepScreenOpenTab:function(e,a){this.saveCookie("false"),popManager.keepScreenOpenTab(e,a)}}}(jQuery),M.OPENTABS&&popJSLibraryManager.register(popTabs,["documentInitialized","onDestroyPageSwitchTab","addOpenTab","closePageTab"]);
;"use strict";!function(e){window.popUserAccount={sessions:{},initDocument:function(e){var n=this,s=e.domain;n.initialLogin(s)},initDomain:function(e){var n=this,s=e.domain;n.sessions[s]={initialuserdata:!0,loggedin:!1,id:null,name:"",avatar:"",url:"",roles:[],userattributes:[]}},documentInitialized:function(e){var n=this;e.domain;n.checkpointInvalidateBlocks()},documentLoaded:function(){this.fetchAllDomainsLoggedInUserData()},pageSectionInitialized:function(e){var n=this;e.pageSection.on("fetched",function(e,s,i,t){n.feedbackLoginOut(t,!1)})},blockInitialized:function(e){var n=this;e.pageSection;e.block.on("fetched",function(e,s,i,t){n.feedbackLoginOut(t,!1)})},loadAvatar:function(e){var n=this,s=e.domain;e.targets.attr("src",n.sessions[s].avatar)},initialLogin:function(e){var n=this,s=n.feedbackLoginOut(e,!0);n.sessions[e].initialuserdata=!s},fetchAllDomainsLoggedInUserData:function(n){var s=this;e.each(M.USERLOGGEDIN_DATA_PAGEURLS,function(e,i){var t=getDomain(i);s.sessions[t].initialuserdata&&s.fetchLoggedInUserData(i,n)})},fetchLoggedInUserData:function(e,n){(n=n||{})["loadingmsg-target"]=M.USERLOGGEDIN_LOADINGMSG_TARGET,n.silentDocument=!0,popManager.fetch(e,n)},isLoggedInAnyDomain:function(){var n=this,s=!1;return e.each(n.sessions,function(e,n){if(n.loggedin)return s=!0,-1}),s},isLoggedIn:function(e){return this.sessions[e].loggedin},updateUserInfo:function(n,s,i,t,o,a,r){var d=this,u={},c=getDomainId(n);d.sessions[n].name!=i&&(d.sessions[n].name=i,e(".pop-user-name."+c).text(i),u.name=i),d.sessions[n].id==s&&d.sessions[n].avatar==t||(d.sessions[n].id=s,d.sessions[n].avatar=t,e(".pop-user-avatar."+c).attr("src",t),u.avatar=t),d.sessions[n].url!=o&&(d.sessions[n].url=o,e(".pop-user-url."+c).attr("href",o),u.url=o),0===e(d.sessions[n].roles).not(a).length&&0===e(a).not(d.sessions[n].roles).length||(d.sessions[n].roles=a,e.each(M.ROLES,function(n,s){e(document.body).removeClass(s+"-"+c)}),e.each(d.sessions[n].roles,function(n,s){e(document.body).addClass(s+"-"+c)}),u.roles=a),0===e(d.sessions[n].userattributes).not(r).length&&0===e(r).not(d.sessions[n].userattributes).length||(d.sessions[n].userattributes=r,e.each(M.USERATTRIBUTES,function(n,s){e(document.body).removeClass(s+"-"+c)}),e.each(d.sessions[n].userattributes,function(n,s){e(document.body).addClass(s+"-"+c)}),u.userattributes=r),e.isEmptyObject(u)||(u.id=s,e(document).triggerHandler("user:updated",[u,n]),e(document).triggerHandler("user:updated:"+n,[u]))},loginout:function(n,s,i,t,o,a,r,d,u){var c=this;if(c.updateUserInfo(s,t,o,a,r,d,u),c.sessions[s].loggedin!=i){c.sessions[s].loggedin=i;var g=[];s==M.HOME_DOMAIN&&g.push("loggedin-localdomain");var o,l=e(document.body),f=getDomainId(s);c.sessions[s].loggedin?(g.push("loggedin-anydomain"),l.data("loggedinuser-id-"+f,t).addClass("loggedin-"+f+" user-"+t+"-"+f),e.each(g,function(e,n){l.addClass(n)}),o="user:loggedin"):(c.isLoggedInAnyDomain()||g.push("loggedin-anydomain"),l.removeClass("loggedin-"+f).removeClass("user-"+l.data("loggedinuser-id-"+f)+"-"+f).data("loggedinuser-id-"+f,""),e.each(g,function(e,n){l.removeClass(n)}),o="user:loggedout"),"initialfeedback"!=n&&c.closeCheckpointMessages(s),e(document).triggerHandler(o,[n,s]),e(document).triggerHandler(o+":"+s,[n]),e(document).triggerHandler("user:loggedinout",[n,s]),e(document).triggerHandler("user:loggedinout:"+s,[n])}},feedbackLoginOut:function(e,n){var s=this,i=popManager.getTopLevelFeedback(e)[M.DATALOAD_USER];if(void 0!==i){var t,o,a,r,d,u,c;t=i[M.DATALOAD_USER_LOGGEDIN],o=i[M.DATALOAD_USER_ID],a=i[M.DATALOAD_USER_NAME],r=i[M.DATALOAD_USER_AVATAR],d=i[M.DATALOAD_USER_URL],u=i[M.DATALOAD_USER_ROLES],c=i[M.DATALOAD_USER_ATTRIBUTES];var g="feedback";return n?g="initialfeedback":s.sessions[e].initialuserdata&&(g="initialuserdata",s.sessions[e].initialuserdata=!1),s.loginout(g,e,t,o,a,r,d,u,c),!0}return!1},checkpointInvalidateBlocks:function(){var n=this;e(document).on("user:loggedin",function(e,s,i){"initialfeedback"!=s&&"initialuserdata"!=s&&n.closeCheckpointMessages(i)})},closeCheckpointMessages:function(e){jQuery(document).ready(function(n){n(".alert.in.pop-messagefeedback.checkpoint."+getDomainId(e)).removeClass("fade").alert("close")})},getLoggedInUserId:function(e){var n=this;return!(!n.sessions[e]||!n.sessions[e].loggedin)&&n.sessions[e].id}}}(jQuery),popJSLibraryManager.register(popUserAccount,["initDocument","initDomain","documentInitialized","documentLoaded","pageSectionInitialized","blockInitialized","loadAvatar"]);
;"use strict";jQuery,window.popWaypoints={reEnable:function(e,t,n){var o=this;t.one("beforeReload",function(){t.one("fetchCompleted",function(){popManager.stopFetchingBlock(e,t)?o.reEnable(e,t,n):n.enable()})})},getOptions:function(e,t){var n={},o=e.filter(".pop-waypoints-context");return o.length?n.context=o:(o=t.closest(".pop-waypoints-context")).length&&(n.context=o),n},getOffset:function(e){return popManager.getPageSection(e).offset().top},destroy:function(e,t,n){popManager.getPageSectionPage(t).one("destroy",function(){n.destroy()})}};
;"use strict";jQuery,window.popWaypointsFetchMore={waypointsFetchMore:function(e){var t=e.pageSection,n=e.block,o=e.targets;jQuery(document).ready(function(e){var a=[],i=popManager.isContentLoaded(t,n);o.each(function(){var o=e(this),p=popWaypoints.getOptions(t,o),r=new Waypoint({element:o,handler:function(e){var t=this.element;if("down"==e){if(popManager.isHidden(t))return;t.trigger("click")}},context:p.context,enabled:i,offset:"bottom-in-view"});popWaypoints.destroy(t,n,r),a.push(r)}),n.on("fetchCompleted",function(n){var o=e(this);popManager.stopFetchingBlock(t,o)?e.each(a,function(e,n){n.enabled&&(n.disable(),popWaypoints.reEnable(t,o,n))}):e.each(a,function(e,t){t.enabled||t.enable(),t.context.refresh()})})})}},popJSLibraryManager.register(popWaypointsFetchMore,["waypointsFetchMore"]);
;"use strict";jQuery,window.popWaypointsHistoryState={waypointsHistoryStateNew:function(t){var e=t.pageSection,n=t.block,o=t.targets;jQuery(document).ready(function(t){o.each(function(){var o=t(this),a=popWaypoints.getOptions(e,o),i=new Waypoint({element:o,handler:function(e){var n=this.element;popManager.isHidden(n)||"up"==e&&popManager.historyReplaceState(t(this))},context:a.context,offset:"bottom-in-view"}),p=new Waypoint({element:o,handler:function(e){var n=this.element;popManager.isHidden(n)||"down"==e&&popManager.historyReplaceState(t(this))},context:a.context});popWaypoints.destroy(e,n,i),popWaypoints.destroy(e,n,p)})})},waypointsHistoryStateOriginal:function(t){var e=t.pageSection,n=t.block,o=t.targets;jQuery(document).ready(function(t){o.each(function(){var o=t(this),a=popWaypoints.getOptions(e,o),i=new Waypoint({element:o,handler:function(t){var e=this.element;popManager.isHidden(e)||"up"==t&&popManager.historyReplaceState(e)},context:a.context});popWaypoints.destroy(e,n,i)})})}},popJSLibraryManager.register(popWaypointsHistoryState,["waypointsHistoryStateOriginal","waypointsHistoryStateNew"]);
;"use strict";jQuery,window.popWaypointsTheater={waypointsTheater:function(e){var t=e.pageSection,n=e.block,o=e.targets;jQuery(document).ready(function(e){o.each(function(){var o=e(this),a=popWaypoints.getOptions(t,o),p=new Waypoint({element:o,handler:function(e){var t=this.element;popManager.isHidden(t)||("down"==e?popPageSectionManager.theater(!0):"up"==e&&popPageSectionManager.theater(!1))},context:a.context,offset:a.context?0:function(){return popWaypoints.getOffset(this.element)}});popWaypoints.destroy(t,n,p)})})}},popJSLibraryManager.register(popWaypointsTheater,["waypointsTheater"]);
;"use strict";jQuery,window.popWaypointsToggleClass={waypointsToggleClass:function(t){var e=t.pageSection,n=t.block,o=t.targets;jQuery(document).ready(function(t){o.each(function(){var o=t(this),a=t(o.data("target")),s=o.data("class");if(a.length&&s){var i=popWaypoints.getOptions(e,o),p=new Waypoint({element:o,handler:function(t){var e=this.element;popManager.isHidden(e)||("down"==t?a.addClass(s):"up"==t&&a.removeClass(s))},context:i.context,offset:i.context?0:function(){return popWaypoints.getOffset(this.element)}});popWaypoints.destroy(e,n,p)}})})}},popJSLibraryManager.register(popWaypointsToggleClass,["waypointsToggleClass"]);
;"use strict";jQuery,window.popWaypointsToggleCollapse={waypointsToggleCollapse:function(e){var o=this,a=e.targets;jQuery(document).ready(function(e){a.each(function(){var a=e(this),t=e(a.data("collapse-target"));if(t.length){var p=popManager.getBlock(t),n=popManager.getBlock(p);o.execWaypointsToggleCollapse(n,p,t,a)}})})},execWaypointsToggleCollapse:function(e,o,a,t){var p=popWaypoints.getOptions(e,a),n=new Waypoint({element:a,handler:function(e){var o=this.element;popManager.isHidden(o)||("down"==e?t.collapse("show"):"up"==e&&t.collapse("hide"))},context:p.context});popWaypoints.destroy(e,o,n)}},popJSLibraryManager.register(popWaypointsToggleCollapse,["waypointsToggleCollapse"]);
;"use strict";!function(i){window.popWindow={windowSize:function(e){var n=this;e.pageSection;e.targets.click(function(e){e.preventDefault();var a=i(this),m=i(a.data("target"));if(m.length){var s=a.data("toggle");"window-fullsize"==s?n.fullsize(m):"window-maximize"==s?n.maximize(m):"window-minimize"==s&&n.minimize(m)}})},getSize:function(i){return i.hasClass("fullsize")?"fullsize":i.hasClass("maximized")?"maximized":i.hasClass("minimized")?"minimized":null},fullsize:function(i){i.removeClass("maximized minimized").addClass("fullsize"),i.triggerHandler("fullsize.bs.window")},maximize:function(i){i.removeClass("fullsize minimized").addClass("maximized"),i.triggerHandler("maximized.bs.window")},minimize:function(i){i.removeClass("fullsize maximized").addClass("minimized"),i.triggerHandler("minimized.bs.window")}}}(jQuery),popJSLibraryManager.register(popWindow,["windowSize"]);
;"use strict";!function(t){window.popMultiselect={multiselect:function(e){e.pageSection;var n=e.block,l=e.targets;popManager.getPageSectionPage(n).one("destroy",function(){l.multiselect("destroy")});var s={buttonClass:"btn btn-default",buttonContainer:'<div class="btn-group multiselect-btn-group" />',enableHTML:!0,nonSelectedText:M.MULTISELECT_NONSELECTEDTEXT,nSelectedText:M.MULTISELECT_NSELECTEDTEXT,allSelectedText:M.MULTISELECT_ALLSELECTEDTEXT};l.each(function(){var e=t(this),n=t.extend({},s);e.attr("title")&&(n.nonSelectedText=e.attr("title")),e.hasClass("input-sm")&&(n.buttonClass+=" btn-sm"),e.hasClass("input-lg")&&(n.buttonClass+=" btn-lg"),e.multiselect(n)})}}}(jQuery),popJSLibraryManager.register(popMultiselect,["multiselect"]);
;"use strict";jQuery,window.popDynamicMaxHeight={dynamicMaxHeight:function(i){i.targets.dynamicMaxHeight()}},popJSLibraryManager.register(popDynamicMaxHeight,["dynamicMaxHeight"]);
;"use strict";!function(a){window.popDateRange={dateRange:function(e){var t=this,s=e.pageSection,n=(e.block,e.targets),r=M.DATERANGE_FORMAT||"DD/MM/YYYY",l={autoUpdateInput:!1,autoApply:!0,linkedCalendars:!0,showWeekNumbers:!1,timePicker:!1,buttonClasses:["btn"],applyClass:"btn-success",cancelClass:"btn-warning",format:r,separator:M.DATERANGE_SEPARATOR,locale:{applyLabel:M.DATERANGE_APPLY,cancelLabel:M.DATERANGE_CANCEL,fromLabel:M.DATERANGE_FROM,toLabel:M.DATERANGE_TO,customRangeLabel:M.DATERANGE_CUSTOMRANGE,daysOfWeek:M.DATERANGE_DAYSOFWEEK,monthNames:M.DATERANGE_MONTHNAMES,firstDay:1}},o={maxDate:moment().add(1,"days")},i={minDate:moment().subtract(1,"days")},m={opens:"right"},c={opens:"left"};n.each(function(){var e=a(this),n=e.hasClass("opens-left")?c:m,A={parentEl:"#"+popManager.getDOMContainer(s,e).attr("id")},p=a.extend({},l,n,A);if(e.hasClass("daterange-future")&&!e.hasClass("daterange-past")?a.extend(p,i):e.hasClass("daterange-past")&&!e.hasClass("daterange-future")&&a.extend(p,o),e.hasClass("timepicker")){var E=M.DATERANGE_TIMEFORMAT||"h:mm A";p.locale.format=r+" "+E;var f={autoApply:!1,timePicker:!0,timePicker24Hour:"h:mm A"!=E,timePickerIncrement:15};a.extend(p,f)}e.on("apply.daterangepicker",function(e,t){a(this).val(t.startDate.format(t.locale.format)+" - "+t.endDate.format(t.locale.format))}),e.daterangepicker(p,t.callback)})},callback:function(a,e){var t=this.element;t.siblings(".from").val(a.format("YYYY-MM-DD")),t.siblings(".to").val(e.format("YYYY-MM-DD")),t.siblings(".fromtime").length&&(t.siblings(".fromtime").val(a.format("HH:mm")),t.siblings(".totime").val(e.format("HH:mm")))}}}(jQuery),popJSLibraryManager.register(popDateRange,["dateRange"]);
;"use strict";!function(e){window.popTypeahead={selectTypeahead:function(e,t,a,n,r){var i=n.find('input[type="text"].tt-input');popTypeaheadTriggerSelect.triggerSelect(e,t,a,n,r),i.typeahead("val","")},typeahead:function(t,a,n,r){var i=this;popManager.getPageSectionPage(n).one("destroy",function(){i.destroy(r)}),n.one("rerender",function(e){i.destroy(r)}),r.each(function(){var r=e(this),i=r.find('input[type="text"]'),o=popManager.getJsSettings(t,a,n,r),p=[];e.each(o["dataset-components"],function(e,r){var i=popManager.getJsSettings(t,a,n,r);p.push(i.dataset)}),e.each(p,function(e,t){var a=t.layout;t.template=popManager.getScriptTemplate(a);var n={};t.prefetch&&(n.url=t.prefetch,popJSLibraryManager.execute("typeaheadPrefetchURL",n),t.prefetch=n.url),t.remote&&(n.url=t.remote,popJSLibraryManager.execute("typeaheadRemoteURL",n),t.remote=n.url)});var h=[],c=[];e.each(p,function(t,a){var n=a.limit;p.length>1&&n>3&&(n=3);var r={datumTokenizer:function(t){var n=[];return e.each(a.tokenizerKeys,function(e,a){n=n.concat(Bloodhound.tokenizers.whitespace(t[a]))}),n},queryTokenizer:Bloodhound.tokenizers.whitespace};a.local&&(r.local=a.local),a.prefetch&&(r.prefetch={url:a.prefetch,thumbprint:a[M.KEYS_THUMBPRINT]}),a.remote&&(r.remote={url:a.remote,wildcard:M.JSPLACEHOLDER_QUERY});var i=new Bloodhound(r);h.push(i);var o;o=a.staticSuggestions?function(t,n){var r=[];e.each(a.staticSuggestions,function(a,n){var i={};e.each(n,function(e,a){"string"==typeof a&&(a=a.replace(M.JSPLACEHOLDER_QUERY,t)),i[e]=a}),r.push(i)}),n(r)}:i.ttAdapter(),c.push({source:o,name:a.name,display:a.valueKey,limit:n,templates:{suggestion:a.template,header:a.header,pending:a.pending,notFound:a.notFound}})}),e.each(h,function(e,t){t.initialize()}),1==c.length?i.typeahead({highlight:!0},c[0]):2==c.length?i.typeahead({highlight:!0},c[0],c[1]):3==c.length?i.typeahead({highlight:!0},c[0],c[1],c[2]):4==c.length&&i.typeahead({highlight:!0},c[0],c[1],c[2],c[3])})},destroy:function(e){e.find('input[type="text"].tt-input').typeahead("destroy")}}}(jQuery);
;"use strict";!function(e){window.popTypeaheadSearch={typeaheadSearchBtn:function(a){var t=this,p=a.pageSection,c=a.block;a.targets.click(function(){var a=e(this).closest(".pop-typeahead");t.executeTypeaheadSearch(p,c,a)})},typeaheadSearchInput:function(a){var t=this,p=a.pageSection,c=a.block;a.targets.keypress(function(a){if(13==event.which){event.preventDefault();var n=e(this).closest(".pop-typeahead");n.find('input[type="text"].tt-input').typeahead("close"),t.executeTypeaheadSearch(p,c,n)}})},executeTypeaheadSearch:function(e,a,t){var p=t.find('input[type="text"].tt-input'),c=popManager.getQueryUrl(e,a);p.typeahead("val")&&(c=c.replace(M.JSPLACEHOLDER_QUERY,p.typeahead("val")),popManager.click(c,"",t))}}}(jQuery),popJSLibraryManager.register(popTypeaheadSearch,["typeaheadSearchBtn","typeaheadSearchInput"]);
;"use strict";!function(e){window.popTypeaheadFetchLink={fetchlinkTypeahead:function(a){var p=a.domain,t=a.pageSection,i=a.block,n=a.targets;popTypeahead.typeahead(p,t,i,n),n.each(function(){e(this).bind("typeahead:selected",function(a,p,t){var i=e(this).closest(".pop-typeahead");popManager.click(p.url,"",i)})})}}}(jQuery),popJSLibraryManager.register(popTypeaheadFetchLink,["fetchlinkTypeahead"]);
;"use strict";!function(e){window.popTypeaheadSelectable={fillTypeahead:function(a){var t=a.domain,p=a.pageSection,l=a.block;a.targets.each(function(){var a=e(this),o=a.data("urlparam");if(o){var c=popManager.getBlockTopLevelURL(l),d=getParam(o,c);if(d){var i=a.data("database-key");e.each(d,function(e,o){var c=popManager.getItemObject(t,i,o);popTypeahead.selectTypeahead(t,p,l,a,c)}),popBootstrap.execOpenParentCollapse(a)}}})},selectDatum:function(a){var t=a.domain,p=a.pageSection,l=a.block;a.targets.click(function(a){a.preventDefault();var o=e(this),c=e(o.data("target")),d=o.data("objectid"),i=o.data("db-key"),n=popManager.getItemObject(t,i,d);popTypeahead.selectTypeahead(t,p,l,c,n)})},selectableTypeahead:function(a){var t=a.domain,p=a.pageSection,l=a.block,o=a.targets;popTypeahead.typeahead(t,p,l,o),o.each(function(){var a=e(this);popTypeaheadValidate.validateMaxSelected(p,l,a),a.bind("typeahead:selected",function(a,o,c){var d=e(this);popTypeahead.selectTypeahead(t,p,l,d,o)})})},selectableTypeaheadTrigger:function(a){a.pageSection,a.block;a.targets.on("close.bs.alert",function(){var a=e(this),t=a.closest(".pop-typeahead"),p=popTypeaheadValidate.getElementsToDisable(t);p.attr("disabled",!1),p.removeClass("disabled");var l=a.children('input[type="hidden"]').val();t.triggerHandler("close",[a,l])})}}}(jQuery),popJSLibraryManager.register(popTypeaheadSelectable,["fillTypeahead","selectableTypeahead","selectDatum","selectableTypeaheadTrigger"]);
;"use strict";!function(e){window.popTypeaheadTriggerSelect={triggerSelect:function(t,a,n,p,i){if(i&&i.id&&0==p.find('input[type="hidden"][value="'+i.id+'"]').length){var d=popManager.getJsSettings(t,a,n,p),o=d["trigger-layout"],r=(popManager.getSettingsId(a),popManager.getSettingsId(n),{extendContext:e.extend({itemObject:i},d["datum-context"])});popJSRuntimeManager.setBlockURL(n);var g=popManager.getTemplateHtml(t,a,n,o,r);popManager.mergeHtml(g,p.find(".pop-box")),popManager.runJSMethods(t,a,n,o,"last"),popJSRuntimeManager.deleteBlockLastSessionIds(t,a,n,o),popTypeaheadValidate.validateMaxSelected(a,n,p),p.triggerHandler("selected",[i])}},removeSelected:function(e,t){e.find('input[type="hidden"][value="'+t+'"]').closest(".alert").alert("close")}}}(jQuery);
;"use strict";jQuery,window.popTypeaheadValidate={validateMaxSelected:function(e,t,a){var d=this;if(a.data("max-selected")&&a.find('input[type="hidden"]').length==a.data("max-selected")){var i=d.getElementsToDisable(a);i.attr("disabled","disabled"),i.addClass("disabled")}},getElementsToDisable:function(e){return e.children("div.pop-operation").find("a, button, input")}};
;"use strict";jQuery,window.popTypeaheadStorage={removeLocalStorageItem:function(e){var r=e.path,a=e.key;e.result=e.result||a.startsWith("__"+r)}},popJSLibraryManager.register(popTypeaheadStorage,["removeLocalStorageItem"]);
;jQuery,popGA={documentInitialized:function(){var t=t||[];t.push(["_setAccount",M.GOOGLEANALYTICS]),t.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()},replaceState:function(t){_gaq.push(["_trackPageview"])}},popJSLibraryManager.register(popGA,["documentInitialized","replaceState"]);
;"use strict";jQuery,window.popPerfectScrollbar={scrollbarHorizontal:function(r){r.pageSection;var e=r.targets;jQuery(document).ready(function(r){e.perfectScrollbar({suppressScrollY:!0})})},scrollbarVertical:function(r){r.pageSection;var e=r.targets;jQuery(document).ready(function(r){e.perfectScrollbar({suppressScrollX:!0})})},getPosition:function(r){var e=r.elem.closest(".perfect-scrollbar").addBack(".perfect-scrollbar");if(e.length){var o=e.children(".perfect-scrollbar-offsetreference");if(o.length)return-1*o.position().top}return 0},doScroll:function(r,e,o){o?r.animate({scrollTop:e}):r.scrollTop(e),r.perfectScrollbar("update")},scrollToElem:function(r){var e=this,o=r.elem,l=r.position,t=r.animate,c=o.closest(".perfect-scrollbar").addBack(".perfect-scrollbar");if(c.length){var a=0;if(l){var n=c.children(".perfect-scrollbar-offsetreference");n.length||(n=o),a=l.offset().top-n.offset().top}return e.doScroll(c,a,t),!0}return!1},scrollTop:function(r){var e=this,o=r.elem,l=r.top,t=r.animate;l=l||0;var c=o.closest(".perfect-scrollbar").addBack(".perfect-scrollbar");return!!c.length&&(e.doScroll(c,l,t),!0)}},popJSLibraryManager.register(popPerfectScrollbar,["scrollbarHorizontal","scrollbarVertical","getPosition","scrollToElem","scrollTop"]);
;"use strict";jQuery,window.popExpand={expandJSKeys:function(e){var n=e.context;n[M.JS_FONTAWESOME]&&(n.fontawesome=n[M.JS_FONTAWESOME]),n[M.JS_DESCRIPTION]&&(n.description=n[M.JS_DESCRIPTION])}},popJSLibraryManager.register(popExpand,["expandJSKeys"]);
;"use strict";!function(e){window.popFunctions={beep:function(e){beep()},showmore:function(t){var a=t.targets;a.find(".pop-showmore-more").click(function(t){t.preventDefault();var a=e(this).closest(".pop-content");a.find(".pop-showmore-more").addClass("hidden"),a.find(".pop-showmore-less").removeClass("hidden"),a.find(".pop-showmore-more-full").removeClass("hidden")}),a.find(".pop-showmore-less").click(function(t){t.preventDefault();var a=e(this).closest(".pop-content");a.find(".pop-showmore-less").addClass("hidden"),a.find(".pop-showmore-more").removeClass("hidden"),a.find(".pop-showmore-more-full").addClass("hidden")})},hideEmpty:function(e){e.targets.closest(".pop-hide-empty").addClass("hidden")},switchTargetClass:function(t){t.targets.click(function(t){var a=e(this);a.is('a[href="#"]')&&t.preventDefault();var o=e(a.data("target"))||e(document.body),n=a.data("mode")||"add",r=a.data("class");"add"==n?o.addClass(r):"remove"==n?o.removeClass(r):"toggle"==n&&o.toggleClass(r)})},doNothing:function(e){e.targets.click(function(e){e.preventDefault()})},fetchMore:function(e){var t=e.pageSection,a=e.block,o=e.targets;a.on("beforeFetch",function(e,t){t["skip-status"]||o.button("loading")}),a.on("fetchCompleted",function(e){popManager.stopFetchingBlock(t,a)?o.addClass("hidden"):(o.removeClass("hidden"),o.button("reset"))}),o.click(function(e){e.preventDefault(),popManager.fetchBlock(t,a,{operation:M.URLPARAM_OPERATION_APPEND})})},fetchMoreDisable:function(e){var t=e.block,a=e.targets;t.on("beforeFetch",function(e,t){t["skip-status"]||a.addClass("disabled").attr("disabled","disabled")}),t.on("fetchCompleted",function(e){a.removeClass("disabled").attr("disabled",!1)})},saveLastClicked:function(t){t.pageSection;var a=t.block;t.targets.click(function(t){var o=e(this);a.find('[data-action="retry"]').data("lastclicked","#"+o.attr("id")).removeClass("hidden")})},retrySendRequest:function(t){t.pageSection,t.block;t.targets.click(function(t){t.preventDefault();var a=e(this);a.data("lastclicked")&&e(a.data("lastclicked")).trigger("click")})},reset:function(t){var a=t.domain,o=t.pageSection;t.targets.click(function(t){t.preventDefault();var n=e(this),r=popManager.getBlock(n);popManager.reset(a,o,r),popManager.closeMessageFeedback(r)})},sortable:function(t){t.pageSection,t.block;var a=t.targets;e(document).ready(function(e){a.sortable({cursor:"move"})})},onActionThenClick:function(t){t.targets.each(function(){var t=e(this),a=e(t.data("triggertarget")),o=t.data("trigger-action")||"click";t.data("triggertarget-internal")&&(a=a.find(t.data("triggertarget-internal"))),a.on(o,function(e){t.trigger("click")})})},getUrl:function(t,a,o){var n=(a=popManager.getOriginalLink(a)).data("target-url");if(!n){var r=e(a.data("blocktarget")),i=popManager.getPageSection(r);n=popManager.getBlockFilteringUrl(t,i,r,o)}return n}}}(jQuery),popJSLibraryManager.register(popFunctions,["showmore","hideEmpty","switchTargetClass","doNothing","fetchMore","fetchMoreDisable","saveLastClicked","retrySendRequest","reset","sortable","onActionThenClick","beep"]);
;"use strict";!function(t){window.popInputFunctions={fillURLParamInput:function(a){var n=this,r=a.block;a.targets.each(function(){var a=t(this),i=n.getURLParamInputValue(r,a);a.val(i)})},fillAddonInput:function(a){var n=this,r=a.targets,i=a.relatedTarget;i&&r.each(function(){var a=t(this);n.fillInput(a,i)})},fillModalInput:function(a){var n=this;a.targets.each(function(){var a=t(this);a.closest(".modal").on("show.bs.modal",function(r){var i=t(r.relatedTarget);n.fillInput(a,i)})})},fillAddonURLInput:function(a){var n=this,r=a.domain,i=a.targets,l=a.relatedTarget;l&&i.each(function(){var a=t(this);n.fillURLInput(r,a,l)})},fillModalURLInput:function(a){var n=this,r=a.domain;a.targets.each(function(){var a=t(this);a.closest(".modal").on("show.bs.modal",function(i){var l=t(i.relatedTarget);n.fillURLInput(r,a,l)})})},browserUrl:function(t){var a=t.targets;a.closest("form").on("beforeSubmit",function(){var t=window.location.href;a.val(t)})},getURLParamInputValue:function(t,a){var n,r=a.data("urlparam");if(r){var i=popManager.getBlockTopLevelURL(t);n=getParam(r,i)}return n||""},fillInput:function(t,a){a=popManager.getOriginalLink(a);var n,r=t.data("attr");r&&(n=a.data(r)),n=n||"",t.val(n)},fillURLInput:function(t,a,n){n=popManager.getOriginalLink(n);var r=popFunctions.getUrl(t,n);a.val(r)}}}(jQuery),popJSLibraryManager.register(popInputFunctions,["fillURLParamInput","fillAddonInput","fillModalInput","fillAddonURLInput","fillModalURLInput","browserUrl"]);
;"use strict";!function(e){window.popEmbedFunctions={modalReloadEmbedPreview:function(t){var a=this,r=t.domain,n=t.pageSection;t.targets.each(function(){var t=e(this),o=popManager.getBlock(t),i=popManager.getJsSettings(r,n,o,t)["url-type"]||"embed";o.closest(".modal").on("show.bs.modal",function(d){o.data("embed-iframe")&&(t=e(o.data("embed-iframe")));var p=e(d.relatedTarget),g=popFunctions.getUrl(r,p,!0);"embed"==i?g=a.getEmbedUrl(g):"api"==i&&(g=popManager.getAPIUrl(g)),a.embedPreview(r,n,o,t,g)})})},reloadEmbedPreview:function(t){var a=this,r=t.domain,n=t.pageSection,o=t.block;t.targets.each(function(){var t=e(this);e(t.data("input-target")).change(function(){e(this);a.embedPreviewFromInput(r,n,o,t)}),a.embedPreviewFromInput(r,n,o,t)})},replaceCode:function(t){var a=this,r=t.domain,n=t.pageSection;t.targets.each(function(){var t=e(this),o=popManager.getBlock(t),i=popManager.getJsSettings(r,n,o,t)["url-type"]||"";t.closest(".modal").on("show.bs.modal",function(n){var o=e(n.relatedTarget),d=popFunctions.getUrl(r,o);"embed"==i?d=a.getEmbedUrl(d):"api"==i&&(d=popManager.getAPIUrl(d)),a.execReplaceCode(t,d)})})},getUnembedUrl:function(t){var a=popJSLibraryManager.execute("getUnembedUrl",{url:t});return e.each(a,function(e,a){if(a)return t=a,-1}),t},getEmbedUrl:function(t){var a=popJSLibraryManager.execute("getEmbedUrl",{url:t});return e.each(a,function(e,a){if(a)return t=a,-1}),t},getPrintUrl:function(t){var a=popJSLibraryManager.execute("getPrintUrl",{url:t});return e.each(a,function(e,a){if(a)return t=a,-1}),t},embedPreviewFromInput:function(t,a,r,n){var o=this,i=e(n.data("input-target")).val();if(i&&isUrlValid(i)){var d=e(n.data("iframe-target")),p=o.embedPreview(t,a,r,d,i);n.data("iframe-target","#"+p.targetContainer.attr("id"))}},embedPreview:function(e,t,a,r,n){var o={operation:M.URLPARAM_OPERATION_REPLACEINLINE,extendContext:{src:n},"merge-target":"#"+r.attr("id")},i=r.data("templateid");popJSRuntimeManager.setBlockURL(a);var d=popManager.mergeTargetTemplate(e,t,a,i,o);popManager.runJSMethods(e,t,a,i,"full");var p=popJSRuntimeManager.getLastGeneratedId(e,popManager.getSettingsId(t),popManager.getSettingsId(a),i);return a.data("embed-iframe","#"+p),d},execReplaceCode:function(e,t){var a=e.data("code-placeholder").format(t);e.val(a)}}}(jQuery),popJSLibraryManager.register(popEmbedFunctions,["replaceCode","modalReloadEmbedPreview","reloadEmbedPreview"]);
;"use strict";!function(n){window.popPrintFunctions={printWindow:function(i){getParam(M.URLPARAM_ACTION,window.location.href)==M.URLPARAM_ACTION_PRINT&&n(document).ready(function(n){window.print()})}}}(jQuery),popJSLibraryManager.register(popPrintFunctions,["printWindow"]);
;"use strict";jQuery,window.popContentFunctions={imageResponsive:function(n){n.targets.find("div.pop-content").addBack("div.pop-content").find("img, .wp-caption").addClass("img-responsive")}},popJSLibraryManager.register(popContentFunctions,["imageResponsive"]);
;"use strict";!function(e){window.popTargetFunctions={copyHeader:function(e){var a=e.targets,r=e.relatedTarget;if(r){var t=(r=popManager.getOriginalLink(r)).data("header");t&&a.find(".pop-header").removeClass("hidden").find(".pop-box").html(t)}},highlight:function(a){a.targets.each(function(){var a=e(this),r=popManager.getPageSection(a);popManager.scrollToElem(r,a,!0)})}}}(jQuery),popJSLibraryManager.register(popTargetFunctions,["copyHeader","highlight"]);
;"use strict";!function(e){window.popSocialMedia={socialmediaCounter:function(a){a.targets.one("mouseenter",function(){e(this).children("a.socialmedia-item").each(function(){var a=e(this),r=a.data("provider");if(r){var i=M.SOCIALMEDIA[r];i&&e.ajax({type:"GET",dataType:i.dataType,url:i["counter-url"].replace("%s",a.data("url")),success:function(e){if(e.hasOwnProperty(i.property)){var r=e[i.property];0!=r&&a.children(".pop-counter").html(r)}}})}})})}}}(jQuery),popJSLibraryManager.register(popSocialMedia,["socialmediaCounter"]);
;"use strict";!function(e){window.popEmbeddable={fullscreen:function(n){var l=n.targets;e(document).bind("fullscreenchange",function(){var n=l.find(".glyphicon");e(document).fullScreen()?n.removeClass("glyphicon-fullscreen").addClass("glyphicon-resize-small"):n.addClass("glyphicon-fullscreen").removeClass("glyphicon-resize-small")}),l.click(function(n){n.preventDefault(),e(this).closest(".pop-fullscreen").toggleFullScreen()})},newWindow:function(e){var n=this;e.targets.click(function(e){e.preventDefault(),window.open(n.getUnembedUrl(window.location.href),"_blank")})}}}(jQuery),popJSLibraryManager.register(popEmbeddable,["newWindow","fullscreen"]);
;"use strict";!function(t){window.popBlockDataQuery={initDelegatorFilter:function(e){var a=e.pageSection;e.targets.submit(function(e){e.preventDefault();var o=t(this);if(o.data("blocktarget")){var i=t(o.data("blocktarget")),n=popManager.getPageSection(i);popManager.isBlockGroup(i)?popBlockGroupDataQuery.filterBlockGroup(n,i,o):popManager.filter(n,i,o),popPageSectionManager.close(a,"xs")}})},initBlockFilter:function(e){var a=e.pageSection,o=e.block;e.targets.submit(function(e){e.preventDefault();var i=t(this);i.data("blocktarget")&&(o=t(i.data("blocktarget")),a=popManager.getPageSection(o)),popManager.filter(a,o,i)})},reloadBlock:function(t){var e=t.pageSection,a=t.block;t.targets.click(function(t){t.preventDefault(),popManager.reload(e,a)})},loadLatestBlock:function(t){var e=t.domain,a=t.pageSection,o=t.block;t.targets.click(function(t){t.preventDefault(),popManager.loadLatest(e,a,o)})},timeoutLoadLatestBlock:function(e){var a=this,o=e.domain,i=e.pageSection,n=e.block;e.targets.each(function(){var e=t(this),c=e.data("clicktime")||3e4;a.execTimeoutLoadLatestBlock(o,i,n,e,c)})},initFilter:function(e){var a=e.pageSection,o=e.block;e.targets.each(function(){var e=t(this);popManager.setFilterBlockParams(a,o,e)})},makeAlwaysRefetchBlock:function(e){var a=this,o=e.pageSection;e.block.on("visible",function(){var e=t(this);a.refetchBlock(o,e)})},execTimeoutLoadLatestBlock:function(e,a,o,i,n){var c=this,r=popManager.getJsSettings(e,a,o,i),l={"skip-status":!0,"datasetcount-target":r["datasetcount-target"],"datasetcount-updatetitle":r["datasetcount-updatetitle"]};!(r["only-loggedin"]||!1)||popUserAccount.isLoggedIn(e)?setTimeout(function(){t("#"+i.attr("id")).length&&(popManager.loadLatest(e,a,o,l),c.execTimeoutLoadLatestBlock(e,a,o,i,n))},n):t(document).one("user:loggedin:"+e,function(t,r){c.execTimeoutLoadLatestBlock(e,a,o,i,n)})},execRefetchBlock:function(e,a){var o=this;a.each(function(){var a=t("#"+t(this).attr("id"));a.length&&o.refetchBlock(e,a)})},refetchBlock:function(t,e){var a={"post-data":e.data("post-data"),"show-disabled-layer":!0};popManager.refetch(t,e,a)},makeOneTimeRefetch:function(e,a){popManager.jsInitialized(a)&&popManager.isContentLoaded(e,a)&&a.one("visible",function(){var a=t(this);popBlockDataQuery.refetchBlock(e,a)})}}}(jQuery),popJSLibraryManager.register(popBlockDataQuery,["initDelegatorFilter","initBlockFilter","reloadBlock","loadLatestBlock","timeoutLoadLatestBlock","initFilter","makeAlwaysRefetchBlock"]);
;"use strict";!function(e){window.popBlockDataQueryUserState={refetchBlockOnUserLoggedIn:function(n){var t=this,o=n.domain,c=n.pageSection,i=n.targets;e(document).one("user:loggedin:"+o,function(e,n){"initialfeedback"!=n&&t.execRefetchBlock(c,i)})},nonendingRefetchBlockOnUserLoggedIn:function(e){var n=this,t=e.domain,o=e.pageSection,c=e.targets;n.execNonendingRefetchBlockOnUserEvent(o,c,"user:loggedin:"+t)},nonendingRefetchBlockOnUserLoggedInOut:function(e){var n=this,t=e.domain,o=e.pageSection,c=e.targets;n.execNonendingRefetchBlockOnUserEvent(o,c,"user:loggedinout:"+t)},execNonendingRefetchBlockOnUserEvent:function(n,t,o){var c=this;e(document).on(o,function(e,o){"initialfeedback"!=o&&"initialuserdata"!=o&&c.execRefetchBlock(n,t)})}}}(jQuery),popJSLibraryManager.register(popBlockDataQueryUserState,["refetchBlockOnUserLoggedIn","nonendingRefetchBlockOnUserLoggedIn","nonendingRefetchBlockOnUserLoggedInOut"]);
;"use strict";!function(o){window.popBlockGroupDataQuery={initBlockGroupFilter:function(r){var e=this,a=r.pageSection,t=r.block,c=r.targets;c.each(function(r){var e=o(this);blocks.each(function(){var r=o(this);popManager.setFilterBlockParams(a,r,e)})}),c.submit(function(r){r.preventDefault();var c=o(this);e.filterBlockGroup(a,t,c)})},reloadBlockGroup:function(o){var r=o.pageSection,e=o.block;o.targets.click(function(o){o.preventDefault();var a=popManager.getBlockGroupActiveBlock(e);popManager.reload(r,a)})},filterBlockGroup:function(r,e,a){var t=popManager.getBlockGroupActiveBlock(e);popManager.getBlockGroupBlocks(e).each(function(){var e=o(this);popManager.setFilterBlockParams(r,e,a),e.attr("id")==t.attr("id")?popManager.reload(r,e):popBlockDataQuery.makeOneTimeRefetch(r,e)})}}}(jQuery),popJSLibraryManager.register(popBlockGroupDataQuery,["initBlockGroupFilter","reloadBlockGroup"]);
;"use strict";!function(e){window.popBlockGroupDataQueryUserState={refetchBlockGroupOnUserLoggedIn:function(o){var t=o.domain,r=o.pageSection,a=o.targets;e(document).one("user:loggedin:"+t,function(o,t){"initialfeedback"!=t&&a.each(function(){var o=e("#"+e(this).attr("id"));if(o.length){var t=popManager.getBlockGroupBlocks(o),a=popManager.getBlockGroupActiveBlock(o);t.each(function(){var o=e(this);o.attr("id")==a.attr("id")?popBlockDataQuery.refetchBlock(r,o):popBlockDataQuery.makeOneTimeRefetch(r,o)})}})})}}}(jQuery),popJSLibraryManager.register(popBlockGroupDataQueryUserState,["refetchBlockGroupOnUserLoggedIn"]);
;"use strict";!function(e){window.popMenus={activeLinks:function(a){var i=a.pageSection,t=a.targets,n=a.domain;if(popManager.getFetchPageSectionSettings(i).activeLinks){var s=popManager.getTopLevelFeedback(n)[M.URLPARAM_PARENTPAGEID];s&&t.find(".menu-item-object-id-"+s).each(function(){var a=e(this);a.addClass("active"),a.parents(".menu-item").addClass("active")})}}}}(jQuery),popJSLibraryManager.register(popMenus,["activeLinks"]);
;"use strict";!function(t){window.popDatasetCount={displayBlockDatasetCount:function(a){var e=a.domain,n=a.pageSection,o=a.block;if(o.data("datasetcount-target")){var u=popManager.getJsSettings(e,n,o),c=u["display-datasetcount-when"]||["oncreated"],d=u["datasetcount-updatetitle"];c.indexOf("oncreated")>-1&&t(document).ready(function(t){var a=t(o.data("datasetcount-target"));popManager.displayDatasetCount(e,n,o,a,d)}),c.indexOf("onrendered")>-1&&o.on("rendered",function(a){var u=t(o.data("datasetcount-target"));popManager.displayDatasetCount(e,n,o,u,d)})}},clearDatasetCount:function(a){var e=this;a.pageSection,a.block;a.targets.each(function(){var a=t(this),n=t(a.data("datasetcount-target")),o=!!a.data("datasetcount-updatetitle");a.click(function(t){t.preventDefault(),e.execClearDatasetCount(n,o)}),a.hover(function(){e.execClearDatasetCount(n,o)})})},clearDatasetCountOnUserLoggedOut:function(a){var e=this;a.pageSection,a.block;a.targets.each(function(){var a=t(this),n=t(a.data("datasetcount-target")),o=!!a.data("datasetcount-updatetitle");t(document).on("user:loggedout",function(t){e.execClearDatasetCount(n,o)})})},execClearDatasetCount:function(t,a){t.html("").addClass("hidden"),a&&(document.title=popManager.documentTitle)}}}(jQuery),popJSLibraryManager.register(popDatasetCount,["displayBlockDatasetCount","clearDatasetCount","clearDatasetCountOnUserLoggedOut"]);
;"use strict";!function(e){window.popReplicate={replicateTopLevel:function(t){var a=this,n=t.pageSection;t.targets.each(function(){var t=e(this),i=t.data("replicate-type");i==M.REPLICATETYPES.MULTIPLE?a.replicateMultipleTopLevel(n,t):i==M.REPLICATETYPES.SINGLE&&a.replicateSingleTopLevel(n,t)})},replicatePageSection:function(t){var a=this,n=t.pageSection;t.targets.each(function(){var t=e(this),i=t.data("replicate-type");i==M.REPLICATETYPES.MULTIPLE?a.replicateMultiplePageSection(n,t):i==M.REPLICATETYPES.SINGLE&&a.replicateSinglePageSection(n,t)})},replicateMultipleTopLevel:function(t,a){var n=this;a.click(function(a){a.preventDefault();var i=e(this),r=i.data("unique-url")||!1;n.execReplicateTopLevel(t,i,!0,r)})},replicateSingleTopLevel:function(t,a){var n=this;a.one("click",function(a){a.preventDefault();var i=e(this);n.execReplicateTopLevel(t,i,!1,!1)})},execReplicateTopLevel:function(t,a,n,i){var r=a.data("original-url"),p=getDomain(r),c=(popManager.getMemory(p),a.data("intercept-url")),o=popManager.getFrameTarget(t),l=popManager.getReplicableMemory(c,o),g=popManager.getTopLevelFeedback(p);e.each(l.feedback.toplevel,function(t,a){"array"==e.type(a)&&0==a.length||("object"==e.type(a)?(g[t]||(g[t]={}),e.extend(g[t],a)):g[t]=a)}),n&&(i&&r.indexOf("#")>-1?g[M.UNIQUEID]=r.substr(r.indexOf("#")+1):(popManager.generateUniqueId(p),i&&(r=popManager.addUniqueId(r))));var u=a.data("title");g[M.URLPARAM_TITLE]=u,g[M.URLPARAM_PARENTPAGEID]=null,g[M.URLPARAM_URL]=r,popManager.maybeUpdateDocument(p,t)},replicateMultiplePageSection:function(t,a){var n=this;a.click(function(a){a.preventDefault();var i=e(this);n.execReplicatePageSection(t,i)})},replicateSinglePageSection:function(t,a){var n=this;a.one("click",function(a){a.preventDefault();var i=e(this);n.execReplicatePageSection(t,i)})},execReplicatePageSection:function(t,a){a.data("block-settingsid"),popManager.getSettingsId(t);var n=a.data("templateid"),i=a.data("intercept-url"),r=getDomain(i),p=popManager.getMemory(r),c=popManager.getFrameTarget(t),o=popManager.getReplicableMemory(i,c);e.extend(p.feedback.pagesection,o.feedback.pagesection),e.each(o.feedback.block,function(t,a){e.extend(p.feedback.block[t],a),e.extend(p.dataset[t],o.dataset[t]),e.extend(p["query-state"].general[t],o["query-state"].general[t]),e.extend(p["query-state"].domain[t],o["query-state"].domain[t])});var l=popManager.getTopLevelFeedback(r),g=popManager.getPageSectionFeedback(r,t),u=popManager.getPageSectionConfiguration(r,t);g["intercept-urls"][n]||(g["intercept-urls"][n]={}),g["intercept-urls"][n][n]=l[M.URLPARAM_URL],u[M.JS_TEMPLATE]=n;var d={};a.next(".pop-interceptor-blocksettingsids").children().each(function(){var t=e(this),a=t.data("value");a=t.data("value")?[t.data("value")]:[],d[t.data("key")]=a}),u[M.JS_BLOCKSETTINGSIDS]=d,popManager.initPageSectionSettings(r,t,u);var s={"js-args":{relatedTarget:a},url:l[M.URLPARAM_URL]};popJSRuntimeManager.setPageSectionURL(l[M.URLPARAM_URL]),popManager.renderPageSection(r,t,null,s)}}}(jQuery),popJSLibraryManager.register(popReplicate,["replicateTopLevel","replicatePageSection"]);
;"use strict";!function(e){window.popForms={interceptForm:function(t){t.pageSection;t.targets.click(function(t){t.preventDefault();var a=e(this),n=e(a.data("target")),r=splitParams(a.data("post-data"));e.each(r,function(e,t){n.find('input[name="'+e+'"]').val(t)}),n.submit()})},forms:function(t){var a=t.pageSection,n=t.block,r=t.targets,o=popManager.getSettingsId(a),i=popManager.getSettingsId(n);r.submit(function(t){t.preventDefault();var r=e(this);r.triggerHandler("beforeSubmit"),popManager.fetchBlock(a,n,{type:"POST","post-data":r.serialize()}),popManager.blockScrollTop(a,n)}),n.on("fetched",function(e,t){var c=t.feedback.block[o][i];!0===c.result&&r.triggerHandler("clear"),c["show-msgs"]&&c.msgs&&c.msgs.length&&popManager.scrollToElem(a,n.children(".blocksection-messagefeedback").first(),!0),popManager.maybeRedirect(c)})},formHandleDisabledLayer:function(e){var t=e.pageSection,a=e.block,n=e.targets,r=popManager.getSettingsId(t),o=popManager.getSettingsId(a);a.on("fetched",function(e,t){var a=t.feedback.block[r][o];a["validate-checkpoints"]&&a["checkpointvalidation-failed"]||n.children(".form-inner").children(".pop-disabledlayer").addClass("hidden")})},clearInput:function(t){t.pageSection;t.targets.each(function(){var t=e(this);t.closest("form").on("clear",function(){t.val("")})})}}}(jQuery),popJSLibraryManager.register(popForms,["interceptForm","forms","formHandleDisabledLayer","clearInput"]);
;"use strict";!function(e){window.popLinks={documentInitialized:function(){this.links()},linkBlankTarget:function(e){e.attr("target")||e.attr("target","_blank")},maybeaddspinner:function(t,a){var n=!t.hasClass("hidden")&&(M.ADDANCHORSPINNER&&void 0===t.data("addspinner")||t.data("addspinner"));if(n){var r=e('<span class="pop-spinner">'+M.SPINNER+"</span>");t.find("img").length&&r.addClass("spinner-img"),e(document).one("urlfetchcompleted:"+escape(a),function(){t.removeClass("loading").children(".pop-spinner").remove()}),t.trigger("blur").addClass("loading").prepend(r)}return n},links:function(){var t=this,a=new RegExp(/\.(gif|jpg|jpeg|tiff|png)$/i),n=new RegExp(/\.(pdf|css|js|zip|tar|ppt|pptx|doc|docx|xls|xlsx)$/i),r=[];e.each(M.ALLOWED_DOMAINS,function(e,t){r.push('a[href^="'+t+'"]')}),e(document).on("click",r.join(","),function(r){var i=e(this),o=i.attr("href");if(a.test(o))if(popJSLibraryManager.getLibraries("linksImage").length){r.preventDefault();var p={anchor:i};popJSLibraryManager.execute("linksImage",p)}else t.linkBlankTarget(i);else if(n.test(o))t.linkBlankTarget(i);else{popCustomBootstrap.resetBubbling();var l=popManager.getPageSection(i),s=i.attr("target")||M.URLPARAM_TARGET_MAIN;if(s==M.URLPARAM_TARGET_FULL)return r.preventDefault(),t.maybeaddspinner(i,o),void(window.location=o);if(s==M.URLPARAM_TARGET_PRINT)return r.preventDefault(),void t.openPrint(o);if(popManager.targetExists(s)){r.preventDefault(),o==M.HOME_DOMAIN&&(o=M.HOME_DOMAIN+"/");var d=!1,g={},c={};if(i.data("reloadurl"))g.reloadurl=!0;else{c={event:r,relatedTarget:i,target:i.attr("target")||popManager.getClickFrameTarget(l)};var f=o;i.data("append-intercepturl")&&(f+=i.data("append-intercepturl")),d=popURLInterceptors.getInterceptors(f,c).length}if(d)popURLInterceptors.intercept(f,c);else{g.target=s,g["js-args"]={relatedTarget:i};var u=t.maybeaddspinner(i,o)?"":null;void 0!==i.data("loadingmsg-target")&&(u=i.data("loadingmsg-target")),null!=u&&(g["loadingmsg-target"]=u),r.metaKey&&(g.silentDocument=!0,g["js-args"].inactivePane=!0),popManager.fetch(o,g)}}}}),e(document).on("click",'a[target="'+M.URLPARAM_TARGET_SOCIALMEDIA+'"]',function(a){a.preventDefault();var n=e(this).attr("href");t.openSocialMedia(n)}),e(document).on("click",'a[href^="#"]',function(t){var a=e(this),n=a.attr("href");if(n.length>1){var r=e(n),i=void 0!==a.data("toggle")||void 0!==a.data("slide");r.length&&!i&&(t.preventDefault(),popManager.scrollToElem(popManager.getPageSection(r),r,!0))}}),e(document).on("click",'a[href^="http://"],a[href^="https://"]',function(a){var n=e(this),r=n.attr("href"),i=!0;e.each(M.ALLOWED_DOMAINS,function(e,t){if(r.startsWith(t))return i=!1,-1}),i&&t.linkBlankTarget(n)})},openPrint:function(e){window.open(e,"_blank")},openSocialMedia:function(e){window.open(e,"_blank","left=20,top=20,width=500,height=400,toolbar=1,resizable=0")}}}(jQuery),popJSLibraryManager.register(popLinks,["documentInitialized"]);
;"use strict";!function(a){window.popClasses={addDomainClass:function(s){var e=s.domain,i=s.pageSection,n=s.block,o=s.targets;o.each(function(){var s=a(this),t=popManager.getJsSettings(e,i,n,s).prefix||"";o.addClass(t+getDomainId(e))})}}}(jQuery),popJSLibraryManager.register(popClasses,["addDomainClass"]);
;"use strict";!function(r){window.popScrolls={scrollHandler:function(l){var o=0;l.pageSection.scroll(function(){var l=r(this).scrollTop();Math.abs(o-l)>=200&&(l>o?r(window).triggerHandler("scroll:down"):r(window).triggerHandler("scroll:up"),o=l)})}}}(jQuery),popJSLibraryManager.register(popScrolls,["scrollHandler"]);
;"use strict";!function(n){window.popOnlineOffline={documentInitialized:function(){this.onlineOffline()},onlineOffline:function(){var n=this;window.addEventListener("online",n.checkOnlineOffline),window.addEventListener("offline",n.checkOnlineOffline),n.checkOnlineOffline()},checkOnlineOffline:function(){navigator.onLine?n(document.body).addClass("online").removeClass("offline"):n(document.body).addClass("offline").removeClass("online")}}}(jQuery),popJSLibraryManager.register(popOnlineOffline,["documentInitialized"]);
;"use strict";!function(e){window.popEventReactions={resetOnSuccess:function(t){var a=t.domain,n=t.pageSection,o=t.targets,s=popManager.getSettingsId(n);o.on("fetched",function(t,o){var c=e(this),g=popManager.getSettingsId(c);!0===o.feedback.block[s][g].result&&popManager.reset(a,n,c,{"skip-restore":!0})})},destroyPageOnSuccess:function(t){var a=t.pageSection,n=t.targets,o=popManager.getSettingsId(a);n.on("fetched",function(t,n){var s=e(this),c=popManager.getSettingsId(s),g=n.feedback.block[o][c],i=popManager.getFrameTarget(a);if(!0===g.result){var r=s.data("destroytime")||0;setTimeout(function(){popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(s),i)},r)}})},closeMessageFeedbacksOnPageSectionOpen:function(e){var t=e.pageSection;e.targets;popPageSectionManager.getGroup(t).on("on.bs.pagesection-group:pagesection-"+t.attr("id")+":opened",function(){popManager.closeMessageFeedbacks(t)})},closePageSectionOnSuccess:function(t){var a=this,n=t.pageSection,o=t.targets,s=popManager.getSettingsId(n);o.on("fetched",function(t,o){var c=e(this),g=popManager.getSettingsId(c);if(!0===o.feedback.block[s][g].result){var i=c.data("closetime")||0;a.timeoutClosePageSection(n,i)}})},closePageSectionOnTabpaneShown:function(t){var a=t.pageSection;t.targets.each(function(){var t=e(this);popManager.getPageSectionPage(t).on("shown.bs.tabpane",function(){popPageSectionManager.close(a)}),popPageSectionManager.close(a)})},timeoutClosePageSection:function(e,t){setTimeout(function(){popPageSectionManager.close(e),popManager.closeMessageFeedbacks(e)},t)}}}(jQuery),popJSLibraryManager.register(popEventReactions,["closePageSectionOnTabpaneShown","resetOnSuccess","closeMessageFeedbacksOnPageSectionOpen","closePageSectionOnSuccess","destroyPageOnSuccess"]);
;"use strict";!function(e){window.popEventReactionsUserState={resetOnUserLogout:function(t){var o=t.domain,n=t.pageSection,a=t.targets;e(document).on("user:loggedout:"+o,function(t,r){a.each(function(){var t=e("#"+e(this).attr("id"));t.length&&popManager.reset(o,n,t)})})},destroyPageOnUserLoggedOut:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserLoggedOut(o,a)})},destroyPageOnUserNoRole:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserNoRole(o,n,a)})},deleteBlockFeedbackValueOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block;e(document).on("user:loggedinout:"+o,function(t,r){if("initialfeedback"!=r&&"initialuserdata"!=r){var g=popManager.getJsSettings(o,n,a)["user:loggedinout-deletefeedbackvalue"]||[];if(g.length){var s=popManager.getBlockFeedback(o,n,a);e.each(g,function(e,t){var o=s;for(i=0;i<t.length-1;i++)o=o[t[i]];delete o[t[t.length-1]]})}}})},scrollTopOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block,r=t.targets;e(document).on("user:loggedinout:"+o,function(t,g){"initialfeedback"!=g&&"initialuserdata"!=g&&r.each(function(){var t=e(this);if(e("#"+t.attr("id")).length){var r=popManager.getJsSettings(o,n,a,t)["scrolltop-animate"]||!1;popManager.scrollToElem(t,t,r)}})})},execDestroyPageOnUserLoggedOut:function(t,o){e(document).one("user:loggedout:"+t,function(t,n){o.each(function(){var t=e("#"+e(this).attr("id"));if(t.length){var o=popManager.getPageSection(t),n=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(t),n)}})})},execDestroyPageOnUserNoRole:function(t,o,n){var a=this,r=n.data("neededrole");e(document).one("user:updated:"+t,function(g,i){if((n=e("#"+n.attr("id"))).length)if(i.roles&&-1==i.roles.indexOf(r)){var s=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(n),s)}else a.execDestroyPageOnUserNoRole(t,o,n)})}}}(jQuery),popJSLibraryManager.register(popEventReactionsUserState,["resetOnUserLogout","destroyPageOnUserLoggedOut","destroyPageOnUserNoRole","deleteBlockFeedbackValueOnUserLoggedInOut","scrollTopOnUserLoggedInOut"]);
;"use strict";jQuery,window.popFeedbackMessage={formatFeedbackMessage:function(e,s,a,r){var t={message:e,tls:s,pss:a,bs:r};return popJSLibraryManager.execute("formatFeedbackMessage",t),t.message}};
;"use strict";!function(e){window.popBootstrapCarousel={prepareCarousel:function(e,t,o){var n=this;t.on("rendered",function(){n.targetsAddActive(o)}),n.targetsAddActive(o)},targetsAddActive:function(t){var o=this;t.each(function(){var t=e(this);o.addActive(t)})},addActive:function(e){0==e.find(".item.active").length&&e.find(".item:first-child").addClass("active")},showElement:function(e,t){var o=this,n=t.closest(".item"),a=n.parent().children().index(n);o.slideTo(e,a)},slideTo:function(e,t){e.carousel(t)},next:function(e){e.carousel("next")},prev:function(e){e.carousel("prev")},isFirstSlide:function(e){return e.find(".item:first-child").hasClass("active")},isLastSlide:function(e){return e.find(".item:last-child").hasClass("active")},isNthSlide:function(e,t){return e.find(".item:nth-child("+t+")").hasClass("active")},isNthLastSlide:function(e,t){return e.find(".item:nth-last-child("+t+")").hasClass("active")},numberSlides:function(e){return e.find(".item").length}}}(jQuery),function(e){window.popBootstrapCarouselControls={initBlockRuntimeMemoryIndependent:function(e){var t=this,o=e.pageSection,n=e.block;e.runtimeMempage.carouselControls={},t.resetBlockRuntimeMemory(o,n)},carouselControls:function(e){var t=this,o=e.pageSection,n=e.block,a=e.targets,i=t.getCarousel(a),r=a.children(".pop-carousel-control.right");t.controlCarouselNext(o,n,i,a,r);var s=a.children(".pop-carousel-control.left");t.controlCarouselPrev(o,n,i,a,s),n.on("fetchDomainCompleted",function(e,i,r){t.handleReload(r,o,n,a)}),t.setEnabledDisabled(o,n,a)},getRuntimeMemoryPage:function(e,t){return popManager.getRuntimeMemoryPage(e,t).carouselControls},resetBlockRuntimeMemory:function(t,o){var n=this.getRuntimeMemoryPage(t,o),a={state:""};e.extend(n,a)},slideNext:function(e,t,o,n){var a=this;popBootstrapCarousel.isNthLastSlide(o,2)&&popManager.stopFetchingBlock(e,t)&&a.disable(n),a.enable(n.siblings(".pop-carousel-control.left")),popBootstrapCarousel.next(o)},controlCarouselNext:function(t,o,n,a,i){var r=this,s=popManager.getBlockQueryState(t,o);i.click(function(a){a.preventDefault();var i=e(this);if(!r.disabled(i))if(popBootstrapCarousel.isLastSlide(n)){if(s.loading.length||popManager.stopFetchingBlock(t,o))return;popManager.fetchBlock(t,o,{operation:M.URLPARAM_OPERATION_APPEND}),r.setControlState(t,o,"loading")}else r.slideNext(t,o,n,i)})},controlCarouselPrev:function(t,o,n,a,i){var r=this;i.click(function(t){t.preventDefault();var o=e(this);r.disabled(o)||(popBootstrapCarousel.isNthSlide(n,2)&&r.disable(o),popBootstrapCarousel.numberSlides(n)>1&&r.enable(o.siblings(".pop-carousel-control.right")),popBootstrapCarousel.prev(n))})},handleReload:function(e,t,o,n){var a=this,i=popManager.getBlockDataset(e,t,o);if(a.setEnabledDisabled(t,o,n),i&&i.length&&"loading"==a.getControlState(t,o)){var r=a.getCarousel(n),s=n.children(".pop-carousel-control.right");a.slideNext(t,o,r,s)}a.setControlState(t,o,"")},getControlState:function(e,t){return this.getRuntimeMemoryPage(e,t).state},setControlState:function(e,t,o){this.getRuntimeMemoryPage(e,t).state=o},getCarousel:function(t){return e(t.data("target"))},setEnabledDisabled:function(e,t,o){var n=this,a=n.getCarousel(o),i=o.children(".pop-carousel-control.left"),r=o.children(".pop-carousel-control.right");0==popBootstrapCarousel.numberSlides(a)?(n.disable(i),n.disable(r)):(popBootstrapCarousel.isFirstSlide(a)?n.disable(i):n.enable(i),popBootstrapCarousel.isLastSlide(a)&&popManager.stopFetchingBlock(e,t)?n.disable(r):n.enable(r))},disable:function(e){e.addClass("disabled"),e.attr("disabled",!0)},enable:function(e){e.removeClass("disabled"),e.attr("disabled",!1)},disabled:function(e){return e.hasClass("disabled")}}}(jQuery),popJSLibraryManager.register(popBootstrapCarouselControls,["initBlockRuntimeMemoryIndependent","controlCarouselPrev","controlCarouselNext","carouselControls"]);
;"use strict";jQuery,window.popBootstrapCarouselStatic={carouselStatic:function(a){var r=a.pageSection,t=a.block,o=a.targets;popBootstrapCarousel.prepareCarousel(r,t,o),o.carousel({interval:!1,wrap:!1})}},popJSLibraryManager.register(popBootstrapCarouselStatic,["carouselStatic"]);
;"use strict";!function(o){window.popBootstrapCarouselAutomatic={carouselAutomatic:function(e){var a=e.pageSection,r=e.block,s=e.targets;r.on("beforeReload",function(o){s.carousel("pause")}),popBootstrapCarousel.prepareCarousel(a,r,s),carousel.find(".item.active").length&&(popBootstrapCarousel.numberSlides(carousel)>=2?(o(window).width()>=768?carousel.carousel():carousel.carousel({interval:!1,wrap:!1}),carousel.find(".pop-carousel-controls").removeClass("hidden")):carousel.find(".pop-carousel-controls").addClass("hidden"))}}}(jQuery),popJSLibraryManager.register(popBootstrapCarouselAutomatic,["carouselAutomatic"]);
;"use strict";!function(a){window.popModals={modalForm:function(o){o.pageSection;o.targets.on("show.bs.modal",function(o){var e=a(this);a(o.relatedTarget);a(e.data("initjs-targets")).each(function(){var o=a(this);popManager.closeMessageFeedback(o)})})}}}(jQuery),popJSLibraryManager.register(popModals,["modalForm"]);
;"use strict";!function(t){window.popControls={controlPrint:function(e){var r=this,n=e.domain,o=e.pageSection;e.block;e.targets.click(function(e){e.preventDefault();var a=t(this),i=r.getBlockFilteringUrl(n,o,a,!0);i=popEmbedFunctions.getPrintUrl(i),popLinks.openPrint(i)})},controlSocialMedia:function(e){var r=this,n=e.domain,o=e.pageSection;e.block;e.targets.click(function(e){e.preventDefault();var a=t(this),i=a.data("shareurl")?a.data("shareurl"):r.getBlockFilteringUrl(n,o,a,!0),l=a.data("sharetitle")?a.data("sharetitle"):popManager.documentTitle,c=a.data("provider"),p=M.SOCIALMEDIA[c]["share-url"].replace(new RegExp("%url%","g"),encodeURIComponent(i)).replace(new RegExp("%title%","g"),encodeURIComponent(l));popLinks.openSocialMedia(p)})},getBlockFilteringUrl:function(e,r,n,o){var a=t(n.data("blocktarget"));return popManager.getBlockFilteringUrl(e,r,a,o)}}}(jQuery),popJSLibraryManager.register(popControls,["controlPrint","controlSocialMedia"]);
;!function(t,i,e,n){"use strict";t.fn.dynamicMaxHeight=function(i){function e(t,i){var e;e=t.hasClass(d)?i.data("replace-text"):i.attr("title"),i.text(e)}function n(t,i){t.find("."+c).css("max-height",i)}function a(t,i){i.css("display","inline-block")}var c="dynamic-height-wrap",d="dynamic-height-active",o="js-dynamic-show-hide";return this.each(function(i,s){var h=t(s),u=h.data("maxheight"),l=h.find("."+c).outerHeight(),r=h.find("."+o);h.attr("data-itemheight",l),l>u&&(n(h,u),h.toggleClass(d),a(h,r)),r.click(function(){h.hasClass(d)?n(h,l):n(h,u),e(h,r),h.toggleClass(d)})})}}(window.jQuery||window.$,document,window),"undefined"!=typeof module&&module.exports&&(module.exports=dynamicMaxHeight);