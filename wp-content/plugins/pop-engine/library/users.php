<?php

/**---------------------------------------------------------------------------------------------------------------
 *
 * Users core functions
 *
 * ---------------------------------------------------------------------------------------------------------------*/

/**---------------------------------------------------------------------------------------------------------------
 * Functions to ask if it's a specific type of user
 * ---------------------------------------------------------------------------------------------------------------*/
function has_role($role, $user_id = null) {

	if (!$user_id && is_user_logged_in()) {
	
		$user_id = get_current_user_id();
	}
	if (!$user_id) {
	
		return false;
	}
	
	$roles = get_user_roles($user_id);
	return (in_array($role, $roles));
}

/**---------------------------------------------------------------------------------------------------------------
 * Roles
 * ---------------------------------------------------------------------------------------------------------------*/

function get_user_roles($user_id) {

    $user = get_user_by('id', $user_id);
    $user_roles = $user->roles;
//    $user_role = array_shift($user_roles);
    
    return $user_roles;
};