!function(e){popCustomFunctions={addPageSectionIds:function(e){var t=e.domain,n=e.pageSection,a=e.template,i=popManager.getSettingsId(n),o=n.attr("id");o==M.PS_HOVER_ID?popJSRuntimeManager.addPageSectionId(t,i,a,o,"closehover"):o==M.PS_FRAME_NAVIGATOR_ID?popJSRuntimeManager.addPageSectionId(t,i,a,o,"closenavigator"):o==M.PS_ADDONS_ID&&(popJSRuntimeManager.addPageSectionId(t,i,a,o,"window-fullsize"),popJSRuntimeManager.addPageSectionId(t,i,a,o,"window-maximize"),popJSRuntimeManager.addPageSectionId(t,i,a,o,"window-minimize"))},pageSectionInitialized:function(e){var t=e.pageSection;t.attr("id")==M.PS_PAGETABS_ID&&popManager.getPageSectionGroup(t).on("on.bs.pagesection-group:pagesection-"+M.PS_HOVER_ID+":closed",function(){t.find("a.pop-pagetab-btn.active").trigger("click")})},pageSectionNewDOMsBeforeInitialize:function(t){var n=this,a=t.pageSection,i=t.newDOMs,o=t.inactivePane,r=a.attr("id");o=!0===o&&i.siblings(".pop-pagesection-page").length>0;var p=popManager.isFirstLoad(a),s=i.filter(".tab-pane"),d=[M.PS_PAGETABS_ID,M.PS_ADDONTABS_ID];if([M.PS_MAIN_ID,M.PS_ADDONS_ID].indexOf(r)>-1){if(o){if(r==M.PS_MAIN_ID){var c=e("#"+M.PS_PAGETABS_ID);popPageSectionManager.open(c),popPageSectionManager.open(c,"xs")}}else s.addClass("active");if(r==M.PS_ADDONS_ID)s.on("shown.bs.tabpane",function(){n.handleWindow(a,"minimized")}),o||p||n.handleWindow(a,"minimized");else{var S=e("#"+M.PS_ADDONS_ID);s.on("shown.bs.tabpane",function(){n.handleWindow(S,"fullsize")}),o||p||n.handleWindow(S,"fullsize")}}else d.indexOf(r)>-1&&o&&i.filter(".pop-pagesection-page").find(".pop-pagetab-btn").addClass("pop-highlight");var g=[M.PS_MAIN_ID,M.PS_HOVER_ID,M.PS_ADDONS_ID,M.PS_FRAME_NAVIGATOR_ID],l=[M.PS_QUICKVIEW_ID,M.PS_QUICKVIEWINFO_ID],u=[M.PS_SIDEINFO_ID],_=[M.PS_MODALS_ID];if(g.indexOf(r)>-1){var I=r==M.PS_MAIN_ID,u=e("#"+M.PS_SIDEINFO_ID+",#"+M.PS_FRAME_SIDE_ID+",#"+M.PS_FRAME_NAVIGATOR_ID);popCustomBootstrap.activateTabPanes(a,i,o,I,u)}else d.indexOf(r)>-1?popCustomBootstrap.activatePageTabs(a,i,o):u.indexOf(r)>-1?popCustomBootstrap.activateSideTabpanes(a,i,o):l.indexOf(r)>-1?popCustomBootstrap.activateQuickviewTabpanes(a,i,o):_.indexOf(r)>-1&&popCustomBootstrap.activateModals(a,i)},isUserIdSameAsLoggedInUser:function(e){var t=e.domain;if(popUserAccount.isLoggedIn(t)){var n=e.input;return popUserAccount.getLoggedInUserId(t)==n}return!1},getEmbedUrl:function(e){var t=this,n=e.url;return t.addURLParams(add_query_arg(M.URLPARAM_THEMEMODE,M.THEMEMODE_WASSUP_EMBED,n))},getUnembedUrl:function(e){var t=e.url;return removeQueryFields(t,[M.URLPARAM_THEMEMODE])},getPrintUrl:function(e){var t=this,n=e.url;return t.addURLParams(add_query_arg(M.URLPARAM_ACTION,M.URLPARAM_ACTION_PRINT,add_query_arg(M.URLPARAM_THEMEMODE,M.THEMEMODE_WASSUP_PRINT,n)))},scrollToElem:function(e){var t=this,n=e.elem,a=e.position,i=e.animate,o=popManager.getPageSection(a),r=a.offset().top-o.offset().top;return t.execScrollTop(n,r,i)},scrollTop:function(e){var t=this,n=e.elem,a=e.top,i=e.animate;return t.execScrollTop(n,a,i)},getPosition:function(e){var t=e.elem;return t.attr("id")!=M.PS_MAIN_ID||t.hasClass("perfect-scrollbar")?0:body.scrollTop},execScrollTop:function(t,n,a){return t.attr("id")==M.PS_MAIN_ID&&!t.hasClass("perfect-scrollbar")&&(a?e(document.body).animate({scrollTop:n},"fast"):window.scrollTo(0,n),!0)},addURLParams:function(e){return M.THEMESTYLE&&(e=add_query_arg(M.URLPARAM_THEMESTYLE,M.THEMESTYLE,e)),e},handleWindow:function(e,t){var n=e.closest(".window");popWindow.getSize(n)==t&&popWindow.maximize(n)}}}(jQuery),popJSLibraryManager.register(popCustomFunctions,["addPageSectionIds","pageSectionNewDOMsBeforeInitialize"],!0),popJSLibraryManager.register(popCustomFunctions,["pageSectionInitialized","getEmbedUrl","getUnembedUrl","getPrintUrl","isUserIdSameAsLoggedInUser","getPosition","scrollToElem","scrollTop"]),function(e){popUserRole={filterByCommunity:function(t){var n=t.domain,a=t.pageSection,i=t.block;t.targets.change(function(t){var o=e(this),r=o.val(),p=e(o.data("target"));if(o.is(":checked")){var s=o.data("user-datum");popTypeahead.triggerSelect(n,a,i,p,s)}else popTypeahead.removeSelected(p,r)})}}}(jQuery),popJSLibraryManager.register(popUserRole,["filterByCommunity"]),function(e){popUREAAL={isActionUpdatedUserMembership:function(e){return e.input==M.ACTION_USER_UPDATEDUSERMEMBERSHIP},isActionJoinedCommunity:function(e){return e.input==M.ACTION_USER_JOINEDCOMMUNITY},isObjectTypeUser:function(e){return e.input==M.OBJECTTYPE_USER}}}(jQuery),popJSLibraryManager.register(popUREAAL,["isActionUpdatedUserMembership","isActionJoinedCommunity","isObjectTypeUser"]);