(function($){popCustomFunctions={addPageSectionIds:function(args){var t=this;var pageSection=args.pageSection,template=args.template;var pssId=popManager.getSettingsId(pageSection);var psId=pageSection.attr('id');if(psId==M.PS_HOVER_ID){popJSRuntimeManager.addPageSectionId(pssId,template,psId,'closehover');}
else if(psId==M.PS_FRAME_NAVIGATOR_ID){popJSRuntimeManager.addPageSectionId(pssId,template,psId,'closenavigator');}
else if(psId==M.PS_ADDONS_ID){popJSRuntimeManager.addPageSectionId(pssId,template,psId,'window-fullsize');popJSRuntimeManager.addPageSectionId(pssId,template,psId,'window-maximize');popJSRuntimeManager.addPageSectionId(pssId,template,psId,'window-minimize');}},pageSectionInitialized:function(args){var t=this;var pageSection=args.pageSection;var psId=pageSection.attr('id');if(psId==M.PS_PAGETABS_ID){popManager.getPageSectionGroup(pageSection).on('on.bs.pagesection-group:pagesection-'+M.PS_HOVER_ID+':closed',function(){pageSection.find('a.pop-pagetab-btn.active').trigger('click');});}},pageSectionNewDOMsBeforeInitialize:function(args){var t=this;var pageSection=args.pageSection,newDOMs=args.newDOMs,inactivePane=args.inactivePane;var psId=pageSection.attr('id');inactivePane=(inactivePane===true)&&(newDOMs.siblings('.pop-pagesection-page').length>0);var firstLoad=popManager.isFirstLoad(pageSection);var tabPane=newDOMs.filter('.tab-pane');var pageTabs=[M.PS_PAGETABS_ID,M.PS_ADDONTABS_ID];var mainTabPanes=[M.PS_MAIN_ID,M.PS_ADDONS_ID];if(mainTabPanes.indexOf(psId)>-1){if(!inactivePane){tabPane.addClass('active');}
else{if(psId==M.PS_MAIN_ID){var mainPageTabs=$('#'+M.PS_PAGETABS_ID);popPageSectionManager.open(mainPageTabs);popPageSectionManager.open(mainPageTabs,'xs');}}
if(psId==M.PS_ADDONS_ID){tabPane.on('shown.bs.tabpane',function(){t.handleWindow(pageSection,'minimized');});if(!inactivePane&&!firstLoad){t.handleWindow(pageSection,'minimized');}}
else{var addonsPageSection=$('#'+M.PS_ADDONS_ID);tabPane.on('shown.bs.tabpane',function(){t.handleWindow(addonsPageSection,'fullsize');});if(!inactivePane&&!firstLoad){t.handleWindow(addonsPageSection,'fullsize');}}}
else if(pageTabs.indexOf(psId)>-1){if(inactivePane){newDOMs.filter('.pop-pagesection-page').find('.pop-pagetab-btn').addClass('pop-highlight');}}
var tabPanes=[M.PS_MAIN_ID,M.PS_HOVER_ID,M.PS_ADDONS_ID,M.PS_FRAME_NAVIGATOR_ID];var quickviews=[M.PS_QUICKVIEW_ID,M.PS_QUICKVIEWINFO_ID];var sides=[M.PS_SIDEINFO_ID];var modals=[M.PS_MODALS_ID];if(tabPanes.indexOf(psId)>-1){var removeTheather=(psId==M.PS_MAIN_ID);var sides=$('#'+M.PS_SIDEINFO_ID+',#'+M.PS_FRAME_SIDE_ID+',#'+M.PS_FRAME_NAVIGATOR_ID);popCustomBootstrap.activateTabPanes(pageSection,newDOMs,inactivePane,removeTheather,sides);}
else if(pageTabs.indexOf(psId)>-1){popCustomBootstrap.activatePageTabs(pageSection,newDOMs,inactivePane);}
else if(sides.indexOf(psId)>-1){popCustomBootstrap.activateSideTabpanes(pageSection,newDOMs,inactivePane);}
else if(quickviews.indexOf(psId)>-1){popCustomBootstrap.activateQuickviewTabpanes(pageSection,newDOMs,inactivePane);}
else if(modals.indexOf(psId)>-1){popCustomBootstrap.activateModals(pageSection,newDOMs);}},isUserIdSameAsLoggedInUser:function(args){var t=this;if(popUserAccount.isLoggedIn()){var user_id=args.input;return(popUserAccount.id==user_id);}
return false;},getEmbedUrl:function(args){var t=this;var url=args.url;return t.addURLParams(add_query_arg(M.URLPARAM_THEMEMODE,M.THEMEMODE_WASSUP_EMBED,url));},getUnembedUrl:function(args){var t=this;var url=args.url;return removeQueryFields(url,[M.URLPARAM_THEMEMODE]);},getPrintUrl:function(args){var t=this;var url=args.url;return t.addURLParams(add_query_arg(M.URLPARAM_ACTION,M.URLPARAM_ACTION_PRINT,add_query_arg(M.URLPARAM_THEMEMODE,M.THEMEMODE_WASSUP_PRINT,url)));},addURLParams:function(url){var t=this;if(M.THEMESTYLE){url=add_query_arg(M.URLPARAM_THEMESTYLE,M.THEMESTYLE,url);}
return url;},handleWindow:function(pageSection,exitSize){var t=this;var windoww=pageSection.closest('.window');if(popWindow.getSize(windoww)==exitSize){popWindow.maximize(windoww);}},};})(jQuery);popJSLibraryManager.register(popCustomFunctions,['addPageSectionIds','pageSectionNewDOMsBeforeInitialize'],true);popJSLibraryManager.register(popCustomFunctions,['pageSectionInitialized','getEmbedUrl','getUnembedUrl','getPrintUrl','isUserIdSameAsLoggedInUser']);;(function($){popUserRole={filterByCommunity:function(args){var t=this;var pageSection=args.pageSection,block=args.block,targets=args.targets;targets.change(function(e){var checkbox=$(this);var user_id=checkbox.val();var communityTypeahead=$(checkbox.data('target'));if(checkbox.is(':checked')){var user=checkbox.data('user-datum');popTypeahead.triggerSelect(pageSection,block,communityTypeahead,user);}
else{popTypeahead.removeSelected(communityTypeahead,user_id);}});},};})(jQuery);popJSLibraryManager.register(popUserRole,['filterByCommunity']);;(function($){popUREAAL={isActionUpdatedUserMembership:function(args){var t=this;var action=args.input;return(action==M.ACTION_USER_UPDATEDUSERMEMBERSHIP);},isActionJoinedCommunity:function(args){var t=this;var action=args.input;return(action==M.ACTION_USER_JOINEDCOMMUNITY);},isObjectTypeUser:function(args){var t=this;var object_type=args.input;return(object_type==M.OBJECTTYPE_USER);},};})(jQuery);popJSLibraryManager.register(popUREAAL,['isActionUpdatedUserMembership','isActionJoinedCommunity','isObjectTypeUser']);